(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Eh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ju={exports:{}},ds={},Qu={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),bh=Symbol.for("react.portal"),Th=Symbol.for("react.fragment"),xh=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),Rh=Symbol.for("react.provider"),Oh=Symbol.for("react.context"),Ph=Symbol.for("react.forward_ref"),Ah=Symbol.for("react.suspense"),jh=Symbol.for("react.memo"),Ih=Symbol.for("react.lazy"),pl=Symbol.iterator;function Nh(t){return t===null||typeof t!="object"?null:(t=pl&&t[pl]||t["@@iterator"],typeof t=="function"?t:null)}var Yu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xu=Object.assign,Zu={};function Jn(t,e,n){this.props=t,this.context=e,this.refs=Zu,this.updater=n||Yu}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ec(){}ec.prototype=Jn.prototype;function va(t,e,n){this.props=t,this.context=e,this.refs=Zu,this.updater=n||Yu}var ya=va.prototype=new ec;ya.constructor=va;Xu(ya,Jn.prototype);ya.isPureReactComponent=!0;var gl=Array.isArray,tc=Object.prototype.hasOwnProperty,ma={current:null},nc={key:!0,ref:!0,__self:!0,__source:!0};function rc(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tc.call(e,r)&&!nc.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gr,type:t,key:s,ref:o,props:i,_owner:ma.current}}function Lh(t,e){return{$$typeof:Gr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wa(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gr}function $h(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vl=/\/+/g;function js(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$h(""+t.key):e.toString(36)}function xi(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gr:case bh:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+js(o,0):r,gl(i)?(n="",t!=null&&(n=t.replace(vl,"$&/")+"/"),xi(i,e,n,"",function(u){return u})):i!=null&&(wa(i)&&(i=Lh(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vl,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",gl(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+js(s,a);o+=xi(s,e,n,l,i)}else if(l=Nh(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+js(s,a++),o+=xi(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ni(t,e,n){if(t==null)return t;var r=[],i=0;return xi(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Uh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Se={current:null},Ci={transition:null},Dh={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Ci,ReactCurrentOwner:ma};function ic(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:ni,forEach:function(t,e,n){ni(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ni(t,function(){e++}),e},toArray:function(t){return ni(t,function(e){return e})||[]},only:function(t){if(!wa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Jn;$.Fragment=Th;$.Profiler=Ch;$.PureComponent=va;$.StrictMode=xh;$.Suspense=Ah;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dh;$.act=ic;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Xu({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ma.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tc.call(e,l)&&!nc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gr,type:t.type,key:i,ref:s,props:r,_owner:o}};$.createContext=function(t){return t={$$typeof:Oh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rh,_context:t},t.Consumer=t};$.createElement=rc;$.createFactory=function(t){var e=rc.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Ph,render:t}};$.isValidElement=wa;$.lazy=function(t){return{$$typeof:Ih,_payload:{_status:-1,_result:t},_init:Uh}};$.memo=function(t,e){return{$$typeof:jh,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Ci.transition;Ci.transition={};try{t()}finally{Ci.transition=e}};$.unstable_act=ic;$.useCallback=function(t,e){return Se.current.useCallback(t,e)};$.useContext=function(t){return Se.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return Se.current.useDeferredValue(t)};$.useEffect=function(t,e){return Se.current.useEffect(t,e)};$.useId=function(){return Se.current.useId()};$.useImperativeHandle=function(t,e,n){return Se.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return Se.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Se.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Se.current.useMemo(t,e)};$.useReducer=function(t,e,n){return Se.current.useReducer(t,e,n)};$.useRef=function(t){return Se.current.useRef(t)};$.useState=function(t){return Se.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return Se.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return Se.current.useTransition()};$.version="18.3.1";Qu.exports=$;var W=Qu.exports;const zh=Eh(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=W,Mh=Symbol.for("react.element"),Fh=Symbol.for("react.fragment"),Wh=Object.prototype.hasOwnProperty,Vh=Bh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hh={key:!0,ref:!0,__self:!0,__source:!0};function sc(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Wh.call(e,r)&&!Hh.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Mh,type:t,key:s,ref:o,props:i,_owner:Vh.current}}ds.Fragment=Fh;ds.jsx=sc;ds.jsxs=sc;Ju.exports=ds;var _=Ju.exports,fo={},oc={exports:{}},$e={},ac={exports:{}},lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,j){var L=C.length;C.push(j);e:for(;0<L;){var ee=L-1>>>1,ae=C[ee];if(0<i(ae,j))C[ee]=j,C[L]=ae,L=ee;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],L=C.pop();if(L!==j){C[0]=L;e:for(var ee=0,ae=C.length,ei=ae>>>1;ee<ei;){var Mt=2*(ee+1)-1,As=C[Mt],Ft=Mt+1,ti=C[Ft];if(0>i(As,L))Ft<ae&&0>i(ti,As)?(C[ee]=ti,C[Ft]=L,ee=Ft):(C[ee]=As,C[Mt]=L,ee=Mt);else if(Ft<ae&&0>i(ti,L))C[ee]=ti,C[Ft]=L,ee=Ft;else break e}}return j}function i(C,j){var L=C.sortIndex-j.sortIndex;return L!==0?L:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,g=null,h=3,v=!1,y=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=C)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function w(C){if(m=!1,p(C),!y)if(n(l)!==null)y=!0,cn(T);else{var j=n(u);j!==null&&dn(w,j.startTime-C)}}function T(C,j){y=!1,m&&(m=!1,f(x),x=-1),v=!0;var L=h;try{for(p(j),g=n(l);g!==null&&(!(g.expirationTime>j)||C&&!Ee());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,h=g.priorityLevel;var ae=ee(g.expirationTime<=j);j=t.unstable_now(),typeof ae=="function"?g.callback=ae:g===n(l)&&r(l),p(j)}else r(l);g=n(l)}if(g!==null)var ei=!0;else{var Mt=n(u);Mt!==null&&dn(w,Mt.startTime-j),ei=!1}return ei}finally{g=null,h=L,v=!1}}var b=!1,k=null,x=-1,I=5,N=-1;function Ee(){return!(t.unstable_now()-N<I)}function U(){if(k!==null){var C=t.unstable_now();N=C;var j=!0;try{j=k(!0,C)}finally{j?Y():(b=!1,k=null)}}else b=!1}var Y;if(typeof d=="function")Y=function(){d(U)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,De=Bt.port2;Bt.port1.onmessage=U,Y=function(){De.postMessage(null)}}else Y=function(){S(U,0)};function cn(C){k=C,b||(b=!0,Y())}function dn(C,j){x=S(function(){C(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,cn(T))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var L=h;h=j;try{return C()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=h;h=C;try{return j()}finally{h=L}},t.unstable_scheduleCallback=function(C,j,L){var ee=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?ee+L:ee):L=ee,C){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=L+ae,C={id:c++,callback:j,priorityLevel:C,startTime:L,expirationTime:ae,sortIndex:-1},L>ee?(C.sortIndex=L,e(u,C),n(l)===null&&C===n(u)&&(m?(f(x),x=-1):m=!0,dn(w,L-ee))):(C.sortIndex=ae,e(l,C),y||v||(y=!0,cn(T))),C},t.unstable_shouldYield=Ee,t.unstable_wrapCallback=function(C){var j=h;return function(){var L=h;h=j;try{return C.apply(this,arguments)}finally{h=L}}}})(lc);ac.exports=lc;var Kh=ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=W,Le=Kh;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uc=new Set,br={};function ln(t,e){Fn(t,e),Fn(t+"Capture",e)}function Fn(t,e){for(br[t]=e,t=0;t<e.length;t++)uc.add(e[t])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,Gh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yl={},ml={};function Jh(t){return po.call(ml,t)?!0:po.call(yl,t)?!1:Gh.test(t)?ml[t]=!0:(yl[t]=!0,!1)}function Qh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yh(t,e,n,r){if(e===null||typeof e>"u"||Qh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ke(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var _a=/[\-:]([a-z])/g;function Sa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_a,Sa);pe[e]=new ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_a,Sa);pe[e]=new ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_a,Sa);pe[e]=new ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new ke(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function ka(t,e,n,r){var i=pe.hasOwnProperty(e)?pe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yh(e,n,i,r)&&(n=null),r||i===null?Jh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vt=qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),kn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),Ea=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),cc=Symbol.for("react.provider"),dc=Symbol.for("react.context"),ba=Symbol.for("react.forward_ref"),vo=Symbol.for("react.suspense"),yo=Symbol.for("react.suspense_list"),Ta=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),hc=Symbol.for("react.offscreen"),wl=Symbol.iterator;function Zn(t){return t===null||typeof t!="object"?null:(t=wl&&t[wl]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,Is;function lr(t){if(Is===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Is=e&&e[1]||""}return`
`+Is+t}var Ns=!1;function Ls(t,e){if(!t||Ns)return"";Ns=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ns=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lr(t):""}function Xh(t){switch(t.tag){case 5:return lr(t.type);case 16:return lr("Lazy");case 13:return lr("Suspense");case 19:return lr("SuspenseList");case 0:case 2:case 15:return t=Ls(t.type,!1),t;case 11:return t=Ls(t.type.render,!1),t;case 1:return t=Ls(t.type,!0),t;default:return""}}function mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case En:return"Fragment";case kn:return"Portal";case go:return"Profiler";case Ea:return"StrictMode";case vo:return"Suspense";case yo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dc:return(t.displayName||"Context")+".Consumer";case cc:return(t._context.displayName||"Context")+".Provider";case ba:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ta:return e=t.displayName||null,e!==null?e:mo(t.type)||"Memo";case wt:e=t._payload,t=t._init;try{return mo(t(e))}catch{}}return null}function Zh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mo(e);case 8:return e===Ea?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ef(t){var e=fc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ii(t){t._valueTracker||(t._valueTracker=ef(t))}function pc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wo(t,e){var n=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _l(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gc(t,e){e=e.checked,e!=null&&ka(t,"checked",e,!1)}function _o(t,e){gc(t,e);var n=Lt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?So(t,e.type,n):e.hasOwnProperty("defaultValue")&&So(t,e.type,Lt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function So(t,e,n){(e!=="number"||Di(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ur=Array.isArray;function Ln(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(ur(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lt(n)}}function vc(t,e){var n=Lt(e.value),r=Lt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function El(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var si,mc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=si.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tf=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(t){tf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fr[e]=fr[t]})});function wc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fr.hasOwnProperty(t)&&fr[t]?(""+e).trim():e+"px"}function _c(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nf=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(t,e){if(e){if(nf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function To(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function xa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Co=null,$n=null,Un=null;function bl(t){if(t=Yr(t)){if(typeof Co!="function")throw Error(E(280));var e=t.stateNode;e&&(e=vs(e),Co(t.stateNode,t.type,e))}}function Sc(t){$n?Un?Un.push(t):Un=[t]:$n=t}function kc(){if($n){var t=$n,e=Un;if(Un=$n=null,bl(t),e)for(t=0;t<e.length;t++)bl(e[t])}}function Ec(t,e){return t(e)}function bc(){}var $s=!1;function Tc(t,e,n){if($s)return t(e,n);$s=!0;try{return Ec(t,e,n)}finally{$s=!1,($n!==null||Un!==null)&&(bc(),kc())}}function xr(t,e){var n=t.stateNode;if(n===null)return null;var r=vs(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Ro=!1;if(ht)try{var er={};Object.defineProperty(er,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Ro=!1}function rf(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var pr=!1,zi=null,Bi=!1,Oo=null,sf={onError:function(t){pr=!0,zi=t}};function of(t,e,n,r,i,s,o,a,l){pr=!1,zi=null,rf.apply(sf,arguments)}function af(t,e,n,r,i,s,o,a,l){if(of.apply(this,arguments),pr){if(pr){var u=zi;pr=!1,zi=null}else throw Error(E(198));Bi||(Bi=!0,Oo=u)}}function un(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tl(t){if(un(t)!==t)throw Error(E(188))}function lf(t){var e=t.alternate;if(!e){if(e=un(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Tl(i),t;if(s===r)return Tl(i),e;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Cc(t){return t=lf(t),t!==null?Rc(t):null}function Rc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rc(t);if(e!==null)return e;t=t.sibling}return null}var Oc=Le.unstable_scheduleCallback,xl=Le.unstable_cancelCallback,uf=Le.unstable_shouldYield,cf=Le.unstable_requestPaint,te=Le.unstable_now,df=Le.unstable_getCurrentPriorityLevel,Ca=Le.unstable_ImmediatePriority,Pc=Le.unstable_UserBlockingPriority,Mi=Le.unstable_NormalPriority,hf=Le.unstable_LowPriority,Ac=Le.unstable_IdlePriority,hs=null,it=null;function ff(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(hs,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:vf,pf=Math.log,gf=Math.LN2;function vf(t){return t>>>=0,t===0?32:31-(pf(t)/gf|0)|0}var oi=64,ai=4194304;function cr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fi(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=cr(a):(s&=o,s!==0&&(r=cr(s)))}else o=n&~i,o!==0?r=cr(o):s!==0&&(r=cr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xe(e),i=1<<n,r|=t[n],e&=~i;return r}function yf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xe(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yf(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Po(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jc(){var t=oi;return oi<<=1,!(oi&4194240)&&(oi=64),t}function Us(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=n}function wf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xe(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ra(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xe(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var M=0;function Ic(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nc,Oa,Lc,$c,Uc,Ao=!1,li=[],Ct=null,Rt=null,Ot=null,Cr=new Map,Rr=new Map,kt=[],_f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cl(t,e){switch(t){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Cr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(e.pointerId)}}function tr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yr(e),e!==null&&Oa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sf(t,e,n,r,i){switch(e){case"focusin":return Ct=tr(Ct,t,e,n,r,i),!0;case"dragenter":return Rt=tr(Rt,t,e,n,r,i),!0;case"mouseover":return Ot=tr(Ot,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cr.set(s,tr(Cr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rr.set(s,tr(Rr.get(s)||null,t,e,n,r,i)),!0}return!1}function Dc(t){var e=Qt(t.target);if(e!==null){var n=un(e);if(n!==null){if(e=n.tag,e===13){if(e=xc(n),e!==null){t.blockedOn=e,Uc(t.priority,function(){Lc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ri(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xo=r,n.target.dispatchEvent(r),xo=null}else return e=Yr(n),e!==null&&Oa(e),t.blockedOn=n,!1;e.shift()}return!0}function Rl(t,e,n){Ri(t)&&n.delete(e)}function kf(){Ao=!1,Ct!==null&&Ri(Ct)&&(Ct=null),Rt!==null&&Ri(Rt)&&(Rt=null),Ot!==null&&Ri(Ot)&&(Ot=null),Cr.forEach(Rl),Rr.forEach(Rl)}function nr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ao||(Ao=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,kf)))}function Or(t){function e(i){return nr(i,t)}if(0<li.length){nr(li[0],t);for(var n=1;n<li.length;n++){var r=li[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ct!==null&&nr(Ct,t),Rt!==null&&nr(Rt,t),Ot!==null&&nr(Ot,t),Cr.forEach(e),Rr.forEach(e),n=0;n<kt.length;n++)r=kt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kt.length&&(n=kt[0],n.blockedOn===null);)Dc(n),n.blockedOn===null&&kt.shift()}var Dn=vt.ReactCurrentBatchConfig,Wi=!0;function Ef(t,e,n,r){var i=M,s=Dn.transition;Dn.transition=null;try{M=1,Pa(t,e,n,r)}finally{M=i,Dn.transition=s}}function bf(t,e,n,r){var i=M,s=Dn.transition;Dn.transition=null;try{M=4,Pa(t,e,n,r)}finally{M=i,Dn.transition=s}}function Pa(t,e,n,r){if(Wi){var i=jo(t,e,n,r);if(i===null)qs(t,e,r,Vi,n),Cl(t,r);else if(Sf(i,t,e,n,r))r.stopPropagation();else if(Cl(t,r),e&4&&-1<_f.indexOf(t)){for(;i!==null;){var s=Yr(i);if(s!==null&&Nc(s),s=jo(t,e,n,r),s===null&&qs(t,e,r,Vi,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qs(t,e,r,null,n)}}var Vi=null;function jo(t,e,n,r){if(Vi=null,t=xa(r),t=Qt(t),t!==null)if(e=un(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vi=t,null}function zc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(df()){case Ca:return 1;case Pc:return 4;case Mi:case hf:return 16;case Ac:return 536870912;default:return 16}default:return 16}}var Tt=null,Aa=null,Oi=null;function Bc(){if(Oi)return Oi;var t,e=Aa,n=e.length,r,i="value"in Tt?Tt.value:Tt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Oi=i.slice(t,1<r?1-r:void 0)}function Pi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ui(){return!0}function Ol(){return!1}function Ue(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ui:Ol,this.isPropagationStopped=Ol,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),e}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Ue(Qn),Qr=Q({},Qn,{view:0,detail:0}),Tf=Ue(Qr),Ds,zs,rr,fs=Q({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rr&&(rr&&t.type==="mousemove"?(Ds=t.screenX-rr.screenX,zs=t.screenY-rr.screenY):zs=Ds=0,rr=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:zs}}),Pl=Ue(fs),xf=Q({},fs,{dataTransfer:0}),Cf=Ue(xf),Rf=Q({},Qr,{relatedTarget:0}),Bs=Ue(Rf),Of=Q({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pf=Ue(Of),Af=Q({},Qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jf=Ue(Af),If=Q({},Qn,{data:0}),Al=Ue(If),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$f[t])?!!e[t]:!1}function Ia(){return Uf}var Df=Q({},Qr,{key:function(t){if(t.key){var e=Nf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(t){return t.type==="keypress"?Pi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zf=Ue(Df),Bf=Q({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Ue(Bf),Mf=Q({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),Ff=Ue(Mf),Wf=Q({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vf=Ue(Wf),Hf=Q({},fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kf=Ue(Hf),qf=[9,13,27,32],Na=ht&&"CompositionEvent"in window,gr=null;ht&&"documentMode"in document&&(gr=document.documentMode);var Gf=ht&&"TextEvent"in window&&!gr,Mc=ht&&(!Na||gr&&8<gr&&11>=gr),Il=" ",Nl=!1;function Fc(t,e){switch(t){case"keyup":return qf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bn=!1;function Jf(t,e){switch(t){case"compositionend":return Wc(e);case"keypress":return e.which!==32?null:(Nl=!0,Il);case"textInput":return t=e.data,t===Il&&Nl?null:t;default:return null}}function Qf(t,e){if(bn)return t==="compositionend"||!Na&&Fc(t,e)?(t=Bc(),Oi=Aa=Tt=null,bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mc&&e.locale!=="ko"?null:e.data;default:return null}}var Yf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ll(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yf[t.type]:e==="textarea"}function Vc(t,e,n,r){Sc(r),e=Hi(e,"onChange"),0<e.length&&(n=new ja("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vr=null,Pr=null;function Xf(t){td(t,0)}function ps(t){var e=Cn(t);if(pc(e))return t}function Zf(t,e){if(t==="change")return e}var Hc=!1;if(ht){var Ms;if(ht){var Fs="oninput"in document;if(!Fs){var $l=document.createElement("div");$l.setAttribute("oninput","return;"),Fs=typeof $l.oninput=="function"}Ms=Fs}else Ms=!1;Hc=Ms&&(!document.documentMode||9<document.documentMode)}function Ul(){vr&&(vr.detachEvent("onpropertychange",Kc),Pr=vr=null)}function Kc(t){if(t.propertyName==="value"&&ps(Pr)){var e=[];Vc(e,Pr,t,xa(t)),Tc(Xf,e)}}function ep(t,e,n){t==="focusin"?(Ul(),vr=e,Pr=n,vr.attachEvent("onpropertychange",Kc)):t==="focusout"&&Ul()}function tp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ps(Pr)}function np(t,e){if(t==="click")return ps(e)}function rp(t,e){if(t==="input"||t==="change")return ps(e)}function ip(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:ip;function Ar(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!po.call(e,i)||!et(t[i],e[i]))return!1}return!0}function Dl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zl(t,e){var n=Dl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dl(n)}}function qc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gc(){for(var t=window,e=Di();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Di(t.document)}return e}function La(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sp(t){var e=Gc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qc(n.ownerDocument.documentElement,n)){if(r!==null&&La(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=zl(n,s);var o=zl(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var op=ht&&"documentMode"in document&&11>=document.documentMode,Tn=null,Io=null,yr=null,No=!1;function Bl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;No||Tn==null||Tn!==Di(r)||(r=Tn,"selectionStart"in r&&La(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yr&&Ar(yr,r)||(yr=r,r=Hi(Io,"onSelect"),0<r.length&&(e=new ja("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tn)))}function ci(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xn={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},Ws={},Jc={};ht&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);function gs(t){if(Ws[t])return Ws[t];if(!xn[t])return t;var e=xn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jc)return Ws[t]=e[n];return t}var Qc=gs("animationend"),Yc=gs("animationiteration"),Xc=gs("animationstart"),Zc=gs("transitionend"),ed=new Map,Ml="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(t,e){ed.set(t,e),ln(e,[t])}for(var Vs=0;Vs<Ml.length;Vs++){var Hs=Ml[Vs],ap=Hs.toLowerCase(),lp=Hs[0].toUpperCase()+Hs.slice(1);Ut(ap,"on"+lp)}Ut(Qc,"onAnimationEnd");Ut(Yc,"onAnimationIteration");Ut(Xc,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(Zc,"onTransitionEnd");Fn("onMouseEnter",["mouseout","mouseover"]);Fn("onMouseLeave",["mouseout","mouseover"]);Fn("onPointerEnter",["pointerout","pointerover"]);Fn("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),up=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function Fl(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,af(r,e,void 0,t),t.currentTarget=null}function td(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fl(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fl(i,a,u),s=l}}}if(Bi)throw t=Oo,Bi=!1,Oo=null,t}function H(t,e){var n=e[zo];n===void 0&&(n=e[zo]=new Set);var r=t+"__bubble";n.has(r)||(nd(e,t,2,!1),n.add(r))}function Ks(t,e,n){var r=0;e&&(r|=4),nd(n,t,r,e)}var di="_reactListening"+Math.random().toString(36).slice(2);function jr(t){if(!t[di]){t[di]=!0,uc.forEach(function(n){n!=="selectionchange"&&(up.has(n)||Ks(n,!1,t),Ks(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[di]||(e[di]=!0,Ks("selectionchange",!1,e))}}function nd(t,e,n,r){switch(zc(e)){case 1:var i=Ef;break;case 4:i=bf;break;default:i=Pa}n=i.bind(null,e,n,t),i=void 0,!Ro||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qs(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qt(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Tc(function(){var u=s,c=xa(n),g=[];e:{var h=ed.get(t);if(h!==void 0){var v=ja,y=t;switch(t){case"keypress":if(Pi(n)===0)break e;case"keydown":case"keyup":v=zf;break;case"focusin":y="focus",v=Bs;break;case"focusout":y="blur",v=Bs;break;case"beforeblur":case"afterblur":v=Bs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ff;break;case Qc:case Yc:case Xc:v=Pf;break;case Zc:v=Vf;break;case"scroll":v=Tf;break;case"wheel":v=Kf;break;case"copy":case"cut":case"paste":v=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=jl}var m=(e&4)!==0,S=!m&&t==="scroll",f=m?h!==null?h+"Capture":null:h;m=[];for(var d=u,p;d!==null;){p=d;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,f!==null&&(w=xr(d,f),w!=null&&m.push(Ir(d,w,p)))),S)break;d=d.return}0<m.length&&(h=new v(h,y,null,n,c),g.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&n!==xo&&(y=n.relatedTarget||n.fromElement)&&(Qt(y)||y[ft]))break e;if((v||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?Qt(y):null,y!==null&&(S=un(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(m=Pl,w="onMouseLeave",f="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(m=jl,w="onPointerLeave",f="onPointerEnter",d="pointer"),S=v==null?h:Cn(v),p=y==null?h:Cn(y),h=new m(w,d+"leave",v,n,c),h.target=S,h.relatedTarget=p,w=null,Qt(c)===u&&(m=new m(f,d+"enter",y,n,c),m.target=p,m.relatedTarget=S,w=m),S=w,v&&y)t:{for(m=v,f=y,d=0,p=m;p;p=hn(p))d++;for(p=0,w=f;w;w=hn(w))p++;for(;0<d-p;)m=hn(m),d--;for(;0<p-d;)f=hn(f),p--;for(;d--;){if(m===f||f!==null&&m===f.alternate)break t;m=hn(m),f=hn(f)}m=null}else m=null;v!==null&&Wl(g,h,v,m,!1),y!==null&&S!==null&&Wl(g,S,y,m,!0)}}e:{if(h=u?Cn(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var T=Zf;else if(Ll(h))if(Hc)T=rp;else{T=tp;var b=ep}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=np);if(T&&(T=T(t,u))){Vc(g,T,n,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&So(h,"number",h.value)}switch(b=u?Cn(u):window,t){case"focusin":(Ll(b)||b.contentEditable==="true")&&(Tn=b,Io=u,yr=null);break;case"focusout":yr=Io=Tn=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Bl(g,n,c);break;case"selectionchange":if(op)break;case"keydown":case"keyup":Bl(g,n,c)}var k;if(Na)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else bn?Fc(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Mc&&n.locale!=="ko"&&(bn||x!=="onCompositionStart"?x==="onCompositionEnd"&&bn&&(k=Bc()):(Tt=c,Aa="value"in Tt?Tt.value:Tt.textContent,bn=!0)),b=Hi(u,x),0<b.length&&(x=new Al(x,t,null,n,c),g.push({event:x,listeners:b}),k?x.data=k:(k=Wc(n),k!==null&&(x.data=k)))),(k=Gf?Jf(t,n):Qf(t,n))&&(u=Hi(u,"onBeforeInput"),0<u.length&&(c=new Al("onBeforeInput","beforeinput",null,n,c),g.push({event:c,listeners:u}),c.data=k))}td(g,e)})}function Ir(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hi(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xr(t,n),s!=null&&r.unshift(Ir(t,s,i)),s=xr(t,e),s!=null&&r.push(Ir(t,s,i))),t=t.return}return r}function hn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wl(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=xr(n,s),l!=null&&o.unshift(Ir(n,l,a))):i||(l=xr(n,s),l!=null&&o.push(Ir(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cp=/\r\n?/g,dp=/\u0000|\uFFFD/g;function Vl(t){return(typeof t=="string"?t:""+t).replace(cp,`
`).replace(dp,"")}function hi(t,e,n){if(e=Vl(e),Vl(t)!==e&&n)throw Error(E(425))}function Ki(){}var Lo=null,$o=null;function Uo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,hp=typeof clearTimeout=="function"?clearTimeout:void 0,Hl=typeof Promise=="function"?Promise:void 0,fp=typeof queueMicrotask=="function"?queueMicrotask:typeof Hl<"u"?function(t){return Hl.resolve(null).then(t).catch(pp)}:Do;function pp(t){setTimeout(function(){throw t})}function Gs(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Or(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Or(e)}function Pt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Yn,Nr="__reactProps$"+Yn,ft="__reactContainer$"+Yn,zo="__reactEvents$"+Yn,gp="__reactListeners$"+Yn,vp="__reactHandles$"+Yn;function Qt(t){var e=t[rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ft]||n[rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kl(t);t!==null;){if(n=t[rt])return n;t=Kl(t)}return e}t=n,n=t.parentNode}return null}function Yr(t){return t=t[rt]||t[ft],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function vs(t){return t[Nr]||null}var Bo=[],Rn=-1;function Dt(t){return{current:t}}function K(t){0>Rn||(t.current=Bo[Rn],Bo[Rn]=null,Rn--)}function V(t,e){Rn++,Bo[Rn]=t.current,t.current=e}var $t={},me=Dt($t),Ce=Dt(!1),nn=$t;function Wn(t,e){var n=t.type.contextTypes;if(!n)return $t;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Re(t){return t=t.childContextTypes,t!=null}function qi(){K(Ce),K(me)}function ql(t,e,n){if(me.current!==$t)throw Error(E(168));V(me,e),V(Ce,n)}function rd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(E(108,Zh(t)||"Unknown",i));return Q({},n,r)}function Gi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$t,nn=me.current,V(me,t),V(Ce,Ce.current),!0}function Gl(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=rd(t,e,nn),r.__reactInternalMemoizedMergedChildContext=t,K(Ce),K(me),V(me,t)):K(Ce),V(Ce,n)}var lt=null,ys=!1,Js=!1;function id(t){lt===null?lt=[t]:lt.push(t)}function yp(t){ys=!0,id(t)}function zt(){if(!Js&&lt!==null){Js=!0;var t=0,e=M;try{var n=lt;for(M=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lt=null,ys=!1}catch(i){throw lt!==null&&(lt=lt.slice(t+1)),Oc(Ca,zt),i}finally{M=e,Js=!1}}return null}var On=[],Pn=0,Ji=null,Qi=0,ze=[],Be=0,rn=null,ut=1,ct="";function Ht(t,e){On[Pn++]=Qi,On[Pn++]=Ji,Ji=t,Qi=e}function sd(t,e,n){ze[Be++]=ut,ze[Be++]=ct,ze[Be++]=rn,rn=t;var r=ut;t=ct;var i=32-Xe(r)-1;r&=~(1<<i),n+=1;var s=32-Xe(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ut=1<<32-Xe(e)+i|n<<i|r,ct=s+t}else ut=1<<s|n<<i|r,ct=t}function $a(t){t.return!==null&&(Ht(t,1),sd(t,1,0))}function Ua(t){for(;t===Ji;)Ji=On[--Pn],On[Pn]=null,Qi=On[--Pn],On[Pn]=null;for(;t===rn;)rn=ze[--Be],ze[Be]=null,ct=ze[--Be],ze[Be]=null,ut=ze[--Be],ze[Be]=null}var Ne=null,Ie=null,q=!1,Ye=null;function od(t,e){var n=Me(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jl(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ne=t,Ie=Pt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ne=t,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rn!==null?{id:ut,overflow:ct}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Me(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ne=t,Ie=null,!0):!1;default:return!1}}function Mo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fo(t){if(q){var e=Ie;if(e){var n=e;if(!Jl(t,e)){if(Mo(t))throw Error(E(418));e=Pt(n.nextSibling);var r=Ne;e&&Jl(t,e)?od(r,n):(t.flags=t.flags&-4097|2,q=!1,Ne=t)}}else{if(Mo(t))throw Error(E(418));t.flags=t.flags&-4097|2,q=!1,Ne=t}}}function Ql(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ne=t}function fi(t){if(t!==Ne)return!1;if(!q)return Ql(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uo(t.type,t.memoizedProps)),e&&(e=Ie)){if(Mo(t))throw ad(),Error(E(418));for(;e;)od(t,e),e=Pt(e.nextSibling)}if(Ql(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ie=Pt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ie=null}}else Ie=Ne?Pt(t.stateNode.nextSibling):null;return!0}function ad(){for(var t=Ie;t;)t=Pt(t.nextSibling)}function Vn(){Ie=Ne=null,q=!1}function Da(t){Ye===null?Ye=[t]:Ye.push(t)}var mp=vt.ReactCurrentBatchConfig;function ir(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function pi(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yl(t){var e=t._init;return e(t._payload)}function ld(t){function e(f,d){if(t){var p=f.deletions;p===null?(f.deletions=[d],f.flags|=16):p.push(d)}}function n(f,d){if(!t)return null;for(;d!==null;)e(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function i(f,d){return f=Nt(f,d),f.index=0,f.sibling=null,f}function s(f,d,p){return f.index=p,t?(p=f.alternate,p!==null?(p=p.index,p<d?(f.flags|=2,d):p):(f.flags|=2,d)):(f.flags|=1048576,d)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,d,p,w){return d===null||d.tag!==6?(d=no(p,f.mode,w),d.return=f,d):(d=i(d,p),d.return=f,d)}function l(f,d,p,w){var T=p.type;return T===En?c(f,d,p.props.children,w,p.key):d!==null&&(d.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===wt&&Yl(T)===d.type)?(w=i(d,p.props),w.ref=ir(f,d,p),w.return=f,w):(w=Ui(p.type,p.key,p.props,null,f.mode,w),w.ref=ir(f,d,p),w.return=f,w)}function u(f,d,p,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=ro(p,f.mode,w),d.return=f,d):(d=i(d,p.children||[]),d.return=f,d)}function c(f,d,p,w,T){return d===null||d.tag!==7?(d=tn(p,f.mode,w,T),d.return=f,d):(d=i(d,p),d.return=f,d)}function g(f,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=no(""+d,f.mode,p),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ri:return p=Ui(d.type,d.key,d.props,null,f.mode,p),p.ref=ir(f,null,d),p.return=f,p;case kn:return d=ro(d,f.mode,p),d.return=f,d;case wt:var w=d._init;return g(f,w(d._payload),p)}if(ur(d)||Zn(d))return d=tn(d,f.mode,p,null),d.return=f,d;pi(f,d)}return null}function h(f,d,p,w){var T=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return T!==null?null:a(f,d,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ri:return p.key===T?l(f,d,p,w):null;case kn:return p.key===T?u(f,d,p,w):null;case wt:return T=p._init,h(f,d,T(p._payload),w)}if(ur(p)||Zn(p))return T!==null?null:c(f,d,p,w,null);pi(f,p)}return null}function v(f,d,p,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(p)||null,a(d,f,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ri:return f=f.get(w.key===null?p:w.key)||null,l(d,f,w,T);case kn:return f=f.get(w.key===null?p:w.key)||null,u(d,f,w,T);case wt:var b=w._init;return v(f,d,p,b(w._payload),T)}if(ur(w)||Zn(w))return f=f.get(p)||null,c(d,f,w,T,null);pi(d,w)}return null}function y(f,d,p,w){for(var T=null,b=null,k=d,x=d=0,I=null;k!==null&&x<p.length;x++){k.index>x?(I=k,k=null):I=k.sibling;var N=h(f,k,p[x],w);if(N===null){k===null&&(k=I);break}t&&k&&N.alternate===null&&e(f,k),d=s(N,d,x),b===null?T=N:b.sibling=N,b=N,k=I}if(x===p.length)return n(f,k),q&&Ht(f,x),T;if(k===null){for(;x<p.length;x++)k=g(f,p[x],w),k!==null&&(d=s(k,d,x),b===null?T=k:b.sibling=k,b=k);return q&&Ht(f,x),T}for(k=r(f,k);x<p.length;x++)I=v(k,f,x,p[x],w),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?x:I.key),d=s(I,d,x),b===null?T=I:b.sibling=I,b=I);return t&&k.forEach(function(Ee){return e(f,Ee)}),q&&Ht(f,x),T}function m(f,d,p,w){var T=Zn(p);if(typeof T!="function")throw Error(E(150));if(p=T.call(p),p==null)throw Error(E(151));for(var b=T=null,k=d,x=d=0,I=null,N=p.next();k!==null&&!N.done;x++,N=p.next()){k.index>x?(I=k,k=null):I=k.sibling;var Ee=h(f,k,N.value,w);if(Ee===null){k===null&&(k=I);break}t&&k&&Ee.alternate===null&&e(f,k),d=s(Ee,d,x),b===null?T=Ee:b.sibling=Ee,b=Ee,k=I}if(N.done)return n(f,k),q&&Ht(f,x),T;if(k===null){for(;!N.done;x++,N=p.next())N=g(f,N.value,w),N!==null&&(d=s(N,d,x),b===null?T=N:b.sibling=N,b=N);return q&&Ht(f,x),T}for(k=r(f,k);!N.done;x++,N=p.next())N=v(k,f,x,N.value,w),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?x:N.key),d=s(N,d,x),b===null?T=N:b.sibling=N,b=N);return t&&k.forEach(function(U){return e(f,U)}),q&&Ht(f,x),T}function S(f,d,p,w){if(typeof p=="object"&&p!==null&&p.type===En&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ri:e:{for(var T=p.key,b=d;b!==null;){if(b.key===T){if(T=p.type,T===En){if(b.tag===7){n(f,b.sibling),d=i(b,p.props.children),d.return=f,f=d;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===wt&&Yl(T)===b.type){n(f,b.sibling),d=i(b,p.props),d.ref=ir(f,b,p),d.return=f,f=d;break e}n(f,b);break}else e(f,b);b=b.sibling}p.type===En?(d=tn(p.props.children,f.mode,w,p.key),d.return=f,f=d):(w=Ui(p.type,p.key,p.props,null,f.mode,w),w.ref=ir(f,d,p),w.return=f,f=w)}return o(f);case kn:e:{for(b=p.key;d!==null;){if(d.key===b)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(f,d.sibling),d=i(d,p.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else e(f,d);d=d.sibling}d=ro(p,f.mode,w),d.return=f,f=d}return o(f);case wt:return b=p._init,S(f,d,b(p._payload),w)}if(ur(p))return y(f,d,p,w);if(Zn(p))return m(f,d,p,w);pi(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(f,d.sibling),d=i(d,p),d.return=f,f=d):(n(f,d),d=no(p,f.mode,w),d.return=f,f=d),o(f)):n(f,d)}return S}var Hn=ld(!0),ud=ld(!1),Yi=Dt(null),Xi=null,An=null,za=null;function Ba(){za=An=Xi=null}function Ma(t){var e=Yi.current;K(Yi),t._currentValue=e}function Wo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zn(t,e){Xi=t,za=An=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xe=!0),t.firstContext=null)}function We(t){var e=t._currentValue;if(za!==t)if(t={context:t,memoizedValue:e,next:null},An===null){if(Xi===null)throw Error(E(308));An=t,Xi.dependencies={lanes:0,firstContext:t}}else An=An.next=t;return e}var Yt=null;function Fa(t){Yt===null?Yt=[t]:Yt.push(t)}function cd(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fa(e)):(n.next=i.next,i.next=n),e.interleaved=n,pt(t,r)}function pt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _t=!1;function Wa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function At(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pt(t,n)}return i=r.interleaved,i===null?(e.next=e,Fa(r)):(e.next=i.next,i.next=e),r.interleaved=e,pt(t,n)}function Ai(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ra(t,n)}}function Xl(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zi(t,e,n,r){var i=t.updateQueue;_t=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,v=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,m=a;switch(h=e,v=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){g=y.call(v,g,h);break e}g=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(v,g,h):y,h==null)break e;g=Q({},g,h);break e;case 2:_t=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=g):c=c.next=v,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=g),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);on|=o,t.lanes=o,t.memoizedState=g}}function Zl(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var Xr={},st=Dt(Xr),Lr=Dt(Xr),$r=Dt(Xr);function Xt(t){if(t===Xr)throw Error(E(174));return t}function Va(t,e){switch(V($r,e),V(Lr,t),V(st,Xr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Eo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Eo(e,t)}K(st),V(st,e)}function Kn(){K(st),K(Lr),K($r)}function hd(t){Xt($r.current);var e=Xt(st.current),n=Eo(e,t.type);e!==n&&(V(Lr,t),V(st,n))}function Ha(t){Lr.current===t&&(K(st),K(Lr))}var G=Dt(0);function es(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qs=[];function Ka(){for(var t=0;t<Qs.length;t++)Qs[t]._workInProgressVersionPrimary=null;Qs.length=0}var ji=vt.ReactCurrentDispatcher,Ys=vt.ReactCurrentBatchConfig,sn=0,J=null,se=null,le=null,ts=!1,mr=!1,Ur=0,wp=0;function ge(){throw Error(E(321))}function qa(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!et(t[n],e[n]))return!1;return!0}function Ga(t,e,n,r,i,s){if(sn=s,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ji.current=t===null||t.memoizedState===null?Ep:bp,t=n(r,i),mr){s=0;do{if(mr=!1,Ur=0,25<=s)throw Error(E(301));s+=1,le=se=null,e.updateQueue=null,ji.current=Tp,t=n(r,i)}while(mr)}if(ji.current=ns,e=se!==null&&se.next!==null,sn=0,le=se=J=null,ts=!1,e)throw Error(E(300));return t}function Ja(){var t=Ur!==0;return Ur=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?J.memoizedState=le=t:le=le.next=t,le}function Ve(){if(se===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=le===null?J.memoizedState:le.next;if(e!==null)le=e,se=t;else{if(t===null)throw Error(E(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},le===null?J.memoizedState=le=t:le=le.next=t}return le}function Dr(t,e){return typeof e=="function"?e(t):e}function Xs(t){var e=Ve(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=se,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((sn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,J.lanes|=c,on|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,et(r,e.memoizedState)||(xe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,J.lanes|=s,on|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zs(t){var e=Ve(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);et(s,e.memoizedState)||(xe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function fd(){}function pd(t,e){var n=J,r=Ve(),i=e(),s=!et(r.memoizedState,i);if(s&&(r.memoizedState=i,xe=!0),r=r.queue,Qa(yd.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,zr(9,vd.bind(null,n,r,i,e),void 0,null),ue===null)throw Error(E(349));sn&30||gd(n,e,i)}return i}function gd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vd(t,e,n,r){e.value=n,e.getSnapshot=r,md(e)&&wd(t)}function yd(t,e,n){return n(function(){md(e)&&wd(t)})}function md(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!et(t,n)}catch{return!0}}function wd(t){var e=pt(t,1);e!==null&&Ze(e,t,1,-1)}function eu(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:t},e.queue=t,t=t.dispatch=kp.bind(null,J,t),[e.memoizedState,t]}function zr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _d(){return Ve().memoizedState}function Ii(t,e,n,r){var i=nt();J.flags|=t,i.memoizedState=zr(1|e,n,void 0,r===void 0?null:r)}function ms(t,e,n,r){var i=Ve();r=r===void 0?null:r;var s=void 0;if(se!==null){var o=se.memoizedState;if(s=o.destroy,r!==null&&qa(r,o.deps)){i.memoizedState=zr(e,n,s,r);return}}J.flags|=t,i.memoizedState=zr(1|e,n,s,r)}function tu(t,e){return Ii(8390656,8,t,e)}function Qa(t,e){return ms(2048,8,t,e)}function Sd(t,e){return ms(4,2,t,e)}function kd(t,e){return ms(4,4,t,e)}function Ed(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bd(t,e,n){return n=n!=null?n.concat([t]):null,ms(4,4,Ed.bind(null,e,t),n)}function Ya(){}function Td(t,e){var n=Ve();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xd(t,e){var n=Ve();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Cd(t,e,n){return sn&21?(et(n,e)||(n=jc(),J.lanes|=n,on|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xe=!0),t.memoizedState=n)}function _p(t,e){var n=M;M=n!==0&&4>n?n:4,t(!0);var r=Ys.transition;Ys.transition={};try{t(!1),e()}finally{M=n,Ys.transition=r}}function Rd(){return Ve().memoizedState}function Sp(t,e,n){var r=It(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Od(t))Pd(e,n);else if(n=cd(t,e,n,r),n!==null){var i=_e();Ze(n,t,r,i),Ad(n,e,r)}}function kp(t,e,n){var r=It(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Od(t))Pd(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,et(a,o)){var l=e.interleaved;l===null?(i.next=i,Fa(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cd(t,e,i,r),n!==null&&(i=_e(),Ze(n,t,r,i),Ad(n,e,r))}}function Od(t){var e=t.alternate;return t===J||e!==null&&e===J}function Pd(t,e){mr=ts=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ad(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ra(t,n)}}var ns={readContext:We,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Ep={readContext:We,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:tu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ii(4194308,4,Ed.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ii(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ii(4,2,t,e)},useMemo:function(t,e){var n=nt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Sp.bind(null,J,t),[r.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:eu,useDebugValue:Ya,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=eu(!1),e=t[0];return t=_p.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=J,i=nt();if(q){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ue===null)throw Error(E(349));sn&30||gd(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tu(yd.bind(null,r,s,t),[t]),r.flags|=2048,zr(9,vd.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nt(),e=ue.identifierPrefix;if(q){var n=ct,r=ut;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ur++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bp={readContext:We,useCallback:Td,useContext:We,useEffect:Qa,useImperativeHandle:bd,useInsertionEffect:Sd,useLayoutEffect:kd,useMemo:xd,useReducer:Xs,useRef:_d,useState:function(){return Xs(Dr)},useDebugValue:Ya,useDeferredValue:function(t){var e=Ve();return Cd(e,se.memoizedState,t)},useTransition:function(){var t=Xs(Dr)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:fd,useSyncExternalStore:pd,useId:Rd,unstable_isNewReconciler:!1},Tp={readContext:We,useCallback:Td,useContext:We,useEffect:Qa,useImperativeHandle:bd,useInsertionEffect:Sd,useLayoutEffect:kd,useMemo:xd,useReducer:Zs,useRef:_d,useState:function(){return Zs(Dr)},useDebugValue:Ya,useDeferredValue:function(t){var e=Ve();return se===null?e.memoizedState=t:Cd(e,se.memoizedState,t)},useTransition:function(){var t=Zs(Dr)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:fd,useSyncExternalStore:pd,useId:Rd,unstable_isNewReconciler:!1};function qe(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ws={isMounted:function(t){return(t=t._reactInternals)?un(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_e(),i=It(t),s=dt(r,i);s.payload=e,n!=null&&(s.callback=n),e=At(t,s,i),e!==null&&(Ze(e,t,i,r),Ai(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_e(),i=It(t),s=dt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=At(t,s,i),e!==null&&(Ze(e,t,i,r),Ai(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_e(),r=It(t),i=dt(n,r);i.tag=2,e!=null&&(i.callback=e),e=At(t,i,r),e!==null&&(Ze(e,t,r,n),Ai(e,t,r))}};function nu(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ar(n,r)||!Ar(i,s):!0}function jd(t,e,n){var r=!1,i=$t,s=e.contextType;return typeof s=="object"&&s!==null?s=We(s):(i=Re(e)?nn:me.current,r=e.contextTypes,s=(r=r!=null)?Wn(t,i):$t),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ws,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ru(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ws.enqueueReplaceState(e,e.state,null)}function Ho(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Wa(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=We(s):(s=Re(e)?nn:me.current,i.context=Wn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vo(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ws.enqueueReplaceState(i,i.state,null),Zi(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qn(t,e){try{var n="",r=e;do n+=Xh(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function eo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ko(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xp=typeof WeakMap=="function"?WeakMap:Map;function Id(t,e,n){n=dt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){is||(is=!0,na=r),Ko(t,e)},n}function Nd(t,e,n){n=dt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ko(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ko(t,e),typeof r!="function"&&(jt===null?jt=new Set([this]):jt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xp;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Bp.bind(null,t,e,n),e.then(t,t))}function su(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ou(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dt(-1,1),e.tag=2,At(n,e,1))),n.lanes|=1),t)}var Cp=vt.ReactCurrentOwner,xe=!1;function we(t,e,n,r){e.child=t===null?ud(e,null,n,r):Hn(e,t.child,n,r)}function au(t,e,n,r,i){n=n.render;var s=e.ref;return zn(e,i),r=Ga(t,e,n,r,s,i),n=Ja(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gt(t,e,i)):(q&&n&&$a(e),e.flags|=1,we(t,e,r,i),e.child)}function lu(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sl(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ld(t,e,s,r,i)):(t=Ui(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ar,n(o,r)&&t.ref===e.ref)return gt(t,e,i)}return e.flags|=1,t=Nt(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ld(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ar(s,r)&&t.ref===e.ref)if(xe=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(xe=!0);else return e.lanes=t.lanes,gt(t,e,i)}return qo(t,e,n,r,i)}function $d(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(In,Ae),Ae|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(In,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,V(In,Ae),Ae|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,V(In,Ae),Ae|=r;return we(t,e,i,n),e.child}function Ud(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qo(t,e,n,r,i){var s=Re(n)?nn:me.current;return s=Wn(e,s),zn(e,i),n=Ga(t,e,n,r,s,i),r=Ja(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gt(t,e,i)):(q&&r&&$a(e),e.flags|=1,we(t,e,n,i),e.child)}function uu(t,e,n,r,i){if(Re(n)){var s=!0;Gi(e)}else s=!1;if(zn(e,i),e.stateNode===null)Ni(t,e),jd(e,n,r),Ho(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=We(u):(u=Re(n)?nn:me.current,u=Wn(e,u));var c=n.getDerivedStateFromProps,g=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ru(e,o,r,u),_t=!1;var h=e.memoizedState;o.state=h,Zi(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Ce.current||_t?(typeof c=="function"&&(Vo(e,n,c,r),l=e.memoizedState),(a=_t||nu(e,n,a,r,h,l,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dd(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:qe(e.type,a),o.props=u,g=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=We(l):(l=Re(n)?nn:me.current,l=Wn(e,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||h!==l)&&ru(e,o,r,l),_t=!1,h=e.memoizedState,o.state=h,Zi(e,r,o,i);var y=e.memoizedState;a!==g||h!==y||Ce.current||_t?(typeof v=="function"&&(Vo(e,n,v,r),y=e.memoizedState),(u=_t||nu(e,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Go(t,e,n,r,s,i)}function Go(t,e,n,r,i,s){Ud(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Gl(e,n,!1),gt(t,e,s);r=e.stateNode,Cp.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hn(e,t.child,null,s),e.child=Hn(e,null,a,s)):we(t,e,a,s),e.memoizedState=r.state,i&&Gl(e,n,!0),e.child}function Dd(t){var e=t.stateNode;e.pendingContext?ql(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ql(t,e.context,!1),Va(t,e.containerInfo)}function cu(t,e,n,r,i){return Vn(),Da(i),e.flags|=256,we(t,e,n,r),e.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function zd(t,e,n){var r=e.pendingProps,i=G.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),V(G,i&1),t===null)return Fo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ks(o,r,0,null),t=tn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qo(n),e.memoizedState=Jo,t):Xa(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Rp(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nt(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Nt(a,s):(s=tn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Qo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jo,r}return s=t.child,t=s.sibling,r=Nt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xa(t,e){return e=ks({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gi(t,e,n,r){return r!==null&&Da(r),Hn(e,t.child,null,n),t=Xa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rp(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=eo(Error(E(422))),gi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ks({mode:"visible",children:r.children},i,0,null),s=tn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hn(e,t.child,null,o),e.child.memoizedState=Qo(o),e.memoizedState=Jo,s);if(!(e.mode&1))return gi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(E(419)),r=eo(s,r,void 0),gi(t,e,o,r)}if(a=(o&t.childLanes)!==0,xe||a){if(r=ue,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pt(t,i),Ze(r,t,i,-1))}return il(),r=eo(Error(E(421))),gi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Mp.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ie=Pt(i.nextSibling),Ne=e,q=!0,Ye=null,t!==null&&(ze[Be++]=ut,ze[Be++]=ct,ze[Be++]=rn,ut=t.id,ct=t.overflow,rn=e),e=Xa(e,r.children),e.flags|=4096,e)}function du(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wo(t.return,e,n)}function to(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bd(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(we(t,e,r.children,n),r=G.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&du(t,n,e);else if(t.tag===19)du(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(G,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&es(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),to(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&es(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}to(e,!0,n,null,s);break;case"together":to(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ni(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),on|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Nt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Op(t,e,n){switch(e.tag){case 3:Dd(e),Vn();break;case 5:hd(e);break;case 1:Re(e.type)&&Gi(e);break;case 4:Va(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;V(Yi,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(G,G.current&1),e.flags|=128,null):n&e.child.childLanes?zd(t,e,n):(V(G,G.current&1),t=gt(t,e,n),t!==null?t.sibling:null);V(G,G.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Bd(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(G,G.current),r)break;return null;case 22:case 23:return e.lanes=0,$d(t,e,n)}return gt(t,e,n)}var Md,Yo,Fd,Wd;Md=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yo=function(){};Fd=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xt(st.current);var s=null;switch(n){case"input":i=wo(t,i),r=wo(t,r),s=[];break;case"select":i=Q({},i,{value:void 0}),r=Q({},r,{value:void 0}),s=[];break;case"textarea":i=ko(t,i),r=ko(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ki)}bo(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(br.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(br.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&H("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Wd=function(t,e,n,r){n!==r&&(e.flags|=4)};function sr(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Pp(t,e,n){var r=e.pendingProps;switch(Ua(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Re(e.type)&&qi(),ve(e),null;case 3:return r=e.stateNode,Kn(),K(Ce),K(me),Ka(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ye!==null&&(sa(Ye),Ye=null))),Yo(t,e),ve(e),null;case 5:Ha(e);var i=Xt($r.current);if(n=e.type,t!==null&&e.stateNode!=null)Fd(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ve(e),null}if(t=Xt(st.current),fi(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[rt]=e,r[Nr]=s,t=(e.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(i=0;i<dr.length;i++)H(dr[i],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":_l(r,s),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},H("invalid",r);break;case"textarea":kl(r,s),H("invalid",r)}bo(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hi(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hi(r.textContent,a,t),i=["children",""+a]):br.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":ii(r),Sl(r,s,!0);break;case"textarea":ii(r),El(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ki)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rt]=e,t[Nr]=r,Md(t,e,!1,!1),e.stateNode=t;e:{switch(o=To(n,r),n){case"dialog":H("cancel",t),H("close",t),i=r;break;case"iframe":case"object":case"embed":H("load",t),i=r;break;case"video":case"audio":for(i=0;i<dr.length;i++)H(dr[i],t);i=r;break;case"source":H("error",t),i=r;break;case"img":case"image":case"link":H("error",t),H("load",t),i=r;break;case"details":H("toggle",t),i=r;break;case"input":_l(t,r),i=wo(t,r),H("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Q({},r,{value:void 0}),H("invalid",t);break;case"textarea":kl(t,r),i=ko(t,r),H("invalid",t);break;default:i=r}bo(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_c(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mc(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tr(t,l):typeof l=="number"&&Tr(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(br.hasOwnProperty(s)?l!=null&&s==="onScroll"&&H("scroll",t):l!=null&&ka(t,s,l,o))}switch(n){case"input":ii(t),Sl(t,r,!1);break;case"textarea":ii(t),El(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ln(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ln(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ki)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)Wd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Xt($r.current),Xt(st.current),fi(e)){if(r=e.stateNode,n=e.memoizedProps,r[rt]=e,(s=r.nodeValue!==n)&&(t=Ne,t!==null))switch(t.tag){case 3:hi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rt]=e,e.stateNode=r}return ve(e),null;case 13:if(K(G),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Ie!==null&&e.mode&1&&!(e.flags&128))ad(),Vn(),e.flags|=98560,s=!1;else if(s=fi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(E(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[rt]=e}else Vn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),s=!1}else Ye!==null&&(sa(Ye),Ye=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?oe===0&&(oe=3):il())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return Kn(),Yo(t,e),t===null&&jr(e.stateNode.containerInfo),ve(e),null;case 10:return Ma(e.type._context),ve(e),null;case 17:return Re(e.type)&&qi(),ve(e),null;case 19:if(K(G),s=e.memoizedState,s===null)return ve(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sr(s,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=es(t),o!==null){for(e.flags|=128,sr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(G,G.current&1|2),e.child}t=t.sibling}s.tail!==null&&te()>Gn&&(e.flags|=128,r=!0,sr(s,!1),e.lanes=4194304)}else{if(!r)if(t=es(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!q)return ve(e),null}else 2*te()-s.renderingStartTime>Gn&&n!==1073741824&&(e.flags|=128,r=!0,sr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=te(),e.sibling=null,n=G.current,V(G,r?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return rl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ae&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Ap(t,e){switch(Ua(e),e.tag){case 1:return Re(e.type)&&qi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kn(),K(Ce),K(me),Ka(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ha(e),null;case 13:if(K(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Vn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(G),null;case 4:return Kn(),null;case 10:return Ma(e.type._context),null;case 22:case 23:return rl(),null;case 24:return null;default:return null}}var vi=!1,ye=!1,jp=typeof WeakSet=="function"?WeakSet:Set,R=null;function jn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Z(t,e,r)}else n.current=null}function Xo(t,e,n){try{n()}catch(r){Z(t,e,r)}}var hu=!1;function Ip(t,e){if(Lo=Wi,t=Gc(),La(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,g=t,h=null;t:for(;;){for(var v;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)h=g,g=v;for(;;){if(g===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(v=g.nextSibling)!==null)break;g=h,h=g.parentNode}g=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($o={focusedElem:t,selectionRange:n},Wi=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,S=y.memoizedState,f=e.stateNode,d=f.getSnapshotBeforeUpdate(e.elementType===e.type?m:qe(e.type,m),S);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){Z(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return y=hu,hu=!1,y}function wr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xo(e,n,s)}i=i.next}while(i!==r)}}function _s(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vd(t){var e=t.alternate;e!==null&&(t.alternate=null,Vd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rt],delete e[Nr],delete e[zo],delete e[gp],delete e[vp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hd(t){return t.tag===5||t.tag===3||t.tag===4}function fu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ea(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ki));else if(r!==4&&(t=t.child,t!==null))for(ea(t,e,n),t=t.sibling;t!==null;)ea(t,e,n),t=t.sibling}function ta(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ta(t,e,n),t=t.sibling;t!==null;)ta(t,e,n),t=t.sibling}var he=null,Je=!1;function mt(t,e,n){for(n=n.child;n!==null;)Kd(t,e,n),n=n.sibling}function Kd(t,e,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(hs,n)}catch{}switch(n.tag){case 5:ye||jn(n,e);case 6:var r=he,i=Je;he=null,mt(t,e,n),he=r,Je=i,he!==null&&(Je?(t=he,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(Je?(t=he,n=n.stateNode,t.nodeType===8?Gs(t.parentNode,n):t.nodeType===1&&Gs(t,n),Or(t)):Gs(he,n.stateNode));break;case 4:r=he,i=Je,he=n.stateNode.containerInfo,Je=!0,mt(t,e,n),he=r,Je=i;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xo(n,e,o),i=i.next}while(i!==r)}mt(t,e,n);break;case 1:if(!ye&&(jn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Z(n,e,a)}mt(t,e,n);break;case 21:mt(t,e,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,mt(t,e,n),ye=r):mt(t,e,n);break;default:mt(t,e,n)}}function pu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jp),e.forEach(function(r){var i=Fp.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function He(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,Je=!1;break e;case 3:he=a.stateNode.containerInfo,Je=!0;break e;case 4:he=a.stateNode.containerInfo,Je=!0;break e}a=a.return}if(he===null)throw Error(E(160));Kd(s,o,i),he=null,Je=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Z(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qd(e,t),e=e.sibling}function qd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),tt(t),r&4){try{wr(3,t,t.return),_s(3,t)}catch(m){Z(t,t.return,m)}try{wr(5,t,t.return)}catch(m){Z(t,t.return,m)}}break;case 1:He(e,t),tt(t),r&512&&n!==null&&jn(n,n.return);break;case 5:if(He(e,t),tt(t),r&512&&n!==null&&jn(n,n.return),t.flags&32){var i=t.stateNode;try{Tr(i,"")}catch(m){Z(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&gc(i,s),To(a,o);var u=To(a,s);for(o=0;o<l.length;o+=2){var c=l[o],g=l[o+1];c==="style"?_c(i,g):c==="dangerouslySetInnerHTML"?mc(i,g):c==="children"?Tr(i,g):ka(i,c,g,u)}switch(a){case"input":_o(i,s);break;case"textarea":vc(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Ln(i,!!s.multiple,v,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ln(i,!!s.multiple,s.defaultValue,!0):Ln(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nr]=s}catch(m){Z(t,t.return,m)}}break;case 6:if(He(e,t),tt(t),r&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Z(t,t.return,m)}}break;case 3:if(He(e,t),tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Or(e.containerInfo)}catch(m){Z(t,t.return,m)}break;case 4:He(e,t),tt(t);break;case 13:He(e,t),tt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tl=te())),r&4&&pu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ye=(u=ye)||c,He(e,t),ye=u):He(e,t),tt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(R=t,c=t.child;c!==null;){for(g=R=c;R!==null;){switch(h=R,v=h.child,h.tag){case 0:case 11:case 14:case 15:wr(4,h,h.return);break;case 1:jn(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){Z(r,n,m)}}break;case 5:jn(h,h.return);break;case 22:if(h.memoizedState!==null){vu(g);continue}}v!==null?(v.return=h,R=v):vu(g)}c=c.sibling}e:for(c=null,g=t;;){if(g.tag===5){if(c===null){c=g;try{i=g.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wc("display",o))}catch(m){Z(t,t.return,m)}}}else if(g.tag===6){if(c===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(m){Z(t,t.return,m)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;c===g&&(c=null),g=g.return}c===g&&(c=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:He(e,t),tt(t),r&4&&pu(t);break;case 21:break;default:He(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hd(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tr(i,""),r.flags&=-33);var s=fu(t);ta(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fu(t);ea(t,a,o);break;default:throw Error(E(161))}}catch(l){Z(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Np(t,e,n){R=t,Gd(t)}function Gd(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var i=R,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vi;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ye;a=vi;var u=ye;if(vi=o,(ye=l)&&!u)for(R=i;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?yu(i):l!==null?(l.return=o,R=l):yu(i);for(;s!==null;)R=s,Gd(s),s=s.sibling;R=i,vi=a,ye=u}gu(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,R=s):gu(t)}}function gu(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||_s(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qe(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zl(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zl(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var g=c.dehydrated;g!==null&&Or(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||e.flags&512&&Zo(e)}catch(h){Z(e,e.return,h)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function vu(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function yu(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_s(4,e)}catch(l){Z(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Z(e,i,l)}}var s=e.return;try{Zo(e)}catch(l){Z(e,s,l)}break;case 5:var o=e.return;try{Zo(e)}catch(l){Z(e,o,l)}}}catch(l){Z(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var Lp=Math.ceil,rs=vt.ReactCurrentDispatcher,Za=vt.ReactCurrentOwner,Fe=vt.ReactCurrentBatchConfig,z=0,ue=null,re=null,fe=0,Ae=0,In=Dt(0),oe=0,Br=null,on=0,Ss=0,el=0,_r=null,Te=null,tl=0,Gn=1/0,ot=null,is=!1,na=null,jt=null,yi=!1,xt=null,ss=0,Sr=0,ra=null,Li=-1,$i=0;function _e(){return z&6?te():Li!==-1?Li:Li=te()}function It(t){return t.mode&1?z&2&&fe!==0?fe&-fe:mp.transition!==null?($i===0&&($i=jc()),$i):(t=M,t!==0||(t=window.event,t=t===void 0?16:zc(t.type)),t):1}function Ze(t,e,n,r){if(50<Sr)throw Sr=0,ra=null,Error(E(185));Jr(t,n,r),(!(z&2)||t!==ue)&&(t===ue&&(!(z&2)&&(Ss|=n),oe===4&&Et(t,fe)),Oe(t,r),n===1&&z===0&&!(e.mode&1)&&(Gn=te()+500,ys&&zt()))}function Oe(t,e){var n=t.callbackNode;mf(t,e);var r=Fi(t,t===ue?fe:0);if(r===0)n!==null&&xl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xl(n),e===1)t.tag===0?yp(mu.bind(null,t)):id(mu.bind(null,t)),fp(function(){!(z&6)&&zt()}),n=null;else{switch(Ic(r)){case 1:n=Ca;break;case 4:n=Pc;break;case 16:n=Mi;break;case 536870912:n=Ac;break;default:n=Mi}n=nh(n,Jd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jd(t,e){if(Li=-1,$i=0,z&6)throw Error(E(327));var n=t.callbackNode;if(Bn()&&t.callbackNode!==n)return null;var r=Fi(t,t===ue?fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=os(t,r);else{e=r;var i=z;z|=2;var s=Yd();(ue!==t||fe!==e)&&(ot=null,Gn=te()+500,en(t,e));do try{Dp();break}catch(a){Qd(t,a)}while(!0);Ba(),rs.current=s,z=i,re!==null?e=0:(ue=null,fe=0,e=oe)}if(e!==0){if(e===2&&(i=Po(t),i!==0&&(r=i,e=ia(t,i))),e===1)throw n=Br,en(t,0),Et(t,r),Oe(t,te()),n;if(e===6)Et(t,r);else{if(i=t.current.alternate,!(r&30)&&!$p(i)&&(e=os(t,r),e===2&&(s=Po(t),s!==0&&(r=s,e=ia(t,s))),e===1))throw n=Br,en(t,0),Et(t,r),Oe(t,te()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Kt(t,Te,ot);break;case 3:if(Et(t,r),(r&130023424)===r&&(e=tl+500-te(),10<e)){if(Fi(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_e(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Do(Kt.bind(null,t,Te,ot),e);break}Kt(t,Te,ot);break;case 4:if(Et(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xe(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lp(r/1960))-r,10<r){t.timeoutHandle=Do(Kt.bind(null,t,Te,ot),r);break}Kt(t,Te,ot);break;case 5:Kt(t,Te,ot);break;default:throw Error(E(329))}}}return Oe(t,te()),t.callbackNode===n?Jd.bind(null,t):null}function ia(t,e){var n=_r;return t.current.memoizedState.isDehydrated&&(en(t,e).flags|=256),t=os(t,e),t!==2&&(e=Te,Te=n,e!==null&&sa(e)),t}function sa(t){Te===null?Te=t:Te.push.apply(Te,t)}function $p(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!et(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Et(t,e){for(e&=~el,e&=~Ss,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xe(e),r=1<<n;t[n]=-1,e&=~r}}function mu(t){if(z&6)throw Error(E(327));Bn();var e=Fi(t,0);if(!(e&1))return Oe(t,te()),null;var n=os(t,e);if(t.tag!==0&&n===2){var r=Po(t);r!==0&&(e=r,n=ia(t,r))}if(n===1)throw n=Br,en(t,0),Et(t,e),Oe(t,te()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kt(t,Te,ot),Oe(t,te()),null}function nl(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(Gn=te()+500,ys&&zt())}}function an(t){xt!==null&&xt.tag===0&&!(z&6)&&Bn();var e=z;z|=1;var n=Fe.transition,r=M;try{if(Fe.transition=null,M=1,t)return t()}finally{M=r,Fe.transition=n,z=e,!(z&6)&&zt()}}function rl(){Ae=In.current,K(In)}function en(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hp(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch(Ua(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qi();break;case 3:Kn(),K(Ce),K(me),Ka();break;case 5:Ha(r);break;case 4:Kn();break;case 13:K(G);break;case 19:K(G);break;case 10:Ma(r.type._context);break;case 22:case 23:rl()}n=n.return}if(ue=t,re=t=Nt(t.current,null),fe=Ae=e,oe=0,Br=null,el=Ss=on=0,Te=_r=null,Yt!==null){for(e=0;e<Yt.length;e++)if(n=Yt[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yt=null}return t}function Qd(t,e){do{var n=re;try{if(Ba(),ji.current=ns,ts){for(var r=J.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ts=!1}if(sn=0,le=se=J=null,mr=!1,Ur=0,Za.current=null,n===null||n.return===null){oe=1,Br=e,re=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,g=c.tag;if(!(c.mode&1)&&(g===0||g===11||g===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=su(o);if(v!==null){v.flags&=-257,ou(v,o,a,s,e),v.mode&1&&iu(s,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){iu(s,u,e),il();break e}l=Error(E(426))}}else if(q&&a.mode&1){var S=su(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ou(S,o,a,s,e),Da(qn(l,a));break e}}s=l=qn(l,a),oe!==4&&(oe=2),_r===null?_r=[s]:_r.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var f=Id(s,l,e);Xl(s,f);break e;case 1:a=l;var d=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(jt===null||!jt.has(p)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Nd(s,a,e);Xl(s,w);break e}}s=s.return}while(s!==null)}Zd(n)}catch(T){e=T,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function Yd(){var t=rs.current;return rs.current=ns,t===null?ns:t}function il(){(oe===0||oe===3||oe===2)&&(oe=4),ue===null||!(on&268435455)&&!(Ss&268435455)||Et(ue,fe)}function os(t,e){var n=z;z|=2;var r=Yd();(ue!==t||fe!==e)&&(ot=null,en(t,e));do try{Up();break}catch(i){Qd(t,i)}while(!0);if(Ba(),z=n,rs.current=r,re!==null)throw Error(E(261));return ue=null,fe=0,oe}function Up(){for(;re!==null;)Xd(re)}function Dp(){for(;re!==null&&!uf();)Xd(re)}function Xd(t){var e=th(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?Zd(t):re=e,Za.current=null}function Zd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ap(n,e),n!==null){n.flags&=32767,re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,re=null;return}}else if(n=Pp(n,e,Ae),n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);oe===0&&(oe=5)}function Kt(t,e,n){var r=M,i=Fe.transition;try{Fe.transition=null,M=1,zp(t,e,n,r)}finally{Fe.transition=i,M=r}return null}function zp(t,e,n,r){do Bn();while(xt!==null);if(z&6)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wf(t,s),t===ue&&(re=ue=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yi||(yi=!0,nh(Mi,function(){return Bn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fe.transition,Fe.transition=null;var o=M;M=1;var a=z;z|=4,Za.current=null,Ip(t,n),qd(n,t),sp($o),Wi=!!Lo,$o=Lo=null,t.current=n,Np(n),cf(),z=a,M=o,Fe.transition=s}else t.current=n;if(yi&&(yi=!1,xt=t,ss=i),s=t.pendingLanes,s===0&&(jt=null),ff(n.stateNode),Oe(t,te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(is)throw is=!1,t=na,na=null,t;return ss&1&&t.tag!==0&&Bn(),s=t.pendingLanes,s&1?t===ra?Sr++:(Sr=0,ra=t):Sr=0,zt(),null}function Bn(){if(xt!==null){var t=Ic(ss),e=Fe.transition,n=M;try{if(Fe.transition=null,M=16>t?16:t,xt===null)var r=!1;else{if(t=xt,xt=null,ss=0,z&6)throw Error(E(331));var i=z;for(z|=4,R=t.current;R!==null;){var s=R,o=s.child;if(R.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:wr(8,c,s)}var g=c.child;if(g!==null)g.return=c,R=g;else for(;R!==null;){c=R;var h=c.sibling,v=c.return;if(Vd(c),c===u){R=null;break}if(h!==null){h.return=v,R=h;break}R=v}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}R=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,R=o;else e:for(;R!==null;){if(s=R,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wr(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,R=f;break e}R=s.return}}var d=t.current;for(R=d;R!==null;){o=R;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,R=p;else e:for(o=d;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_s(9,a)}}catch(T){Z(a,a.return,T)}if(a===o){R=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,R=w;break e}R=a.return}}if(z=i,zt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(hs,t)}catch{}r=!0}return r}finally{M=n,Fe.transition=e}}return!1}function wu(t,e,n){e=qn(n,e),e=Id(t,e,1),t=At(t,e,1),e=_e(),t!==null&&(Jr(t,1,e),Oe(t,e))}function Z(t,e,n){if(t.tag===3)wu(t,t,n);else for(;e!==null;){if(e.tag===3){wu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jt===null||!jt.has(r))){t=qn(n,t),t=Nd(e,t,1),e=At(e,t,1),t=_e(),e!==null&&(Jr(e,1,t),Oe(e,t));break}}e=e.return}}function Bp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_e(),t.pingedLanes|=t.suspendedLanes&n,ue===t&&(fe&n)===n&&(oe===4||oe===3&&(fe&130023424)===fe&&500>te()-tl?en(t,0):el|=n),Oe(t,e)}function eh(t,e){e===0&&(t.mode&1?(e=ai,ai<<=1,!(ai&130023424)&&(ai=4194304)):e=1);var n=_e();t=pt(t,e),t!==null&&(Jr(t,e,n),Oe(t,n))}function Mp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eh(t,n)}function Fp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),eh(t,n)}var th;th=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ce.current)xe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xe=!1,Op(t,e,n);xe=!!(t.flags&131072)}else xe=!1,q&&e.flags&1048576&&sd(e,Qi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ni(t,e),t=e.pendingProps;var i=Wn(e,me.current);zn(e,n),i=Ga(null,e,r,t,i,n);var s=Ja();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(r)?(s=!0,Gi(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wa(e),i.updater=ws,e.stateNode=i,i._reactInternals=e,Ho(e,r,t,n),e=Go(null,e,r,!0,s,n)):(e.tag=0,q&&s&&$a(e),we(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ni(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Vp(r),t=qe(r,t),i){case 0:e=qo(null,e,r,t,n);break e;case 1:e=uu(null,e,r,t,n);break e;case 11:e=au(null,e,r,t,n);break e;case 14:e=lu(null,e,r,qe(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),qo(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),uu(t,e,r,i,n);case 3:e:{if(Dd(e),t===null)throw Error(E(387));r=e.pendingProps,s=e.memoizedState,i=s.element,dd(t,e),Zi(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qn(Error(E(423)),e),e=cu(t,e,r,n,i);break e}else if(r!==i){i=qn(Error(E(424)),e),e=cu(t,e,r,n,i);break e}else for(Ie=Pt(e.stateNode.containerInfo.firstChild),Ne=e,q=!0,Ye=null,n=ud(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===i){e=gt(t,e,n);break e}we(t,e,r,n)}e=e.child}return e;case 5:return hd(e),t===null&&Fo(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uo(r,i)?o=null:s!==null&&Uo(r,s)&&(e.flags|=32),Ud(t,e),we(t,e,o,n),e.child;case 6:return t===null&&Fo(e),null;case 13:return zd(t,e,n);case 4:return Va(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hn(e,null,r,n):we(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),au(t,e,r,i,n);case 7:return we(t,e,e.pendingProps,n),e.child;case 8:return we(t,e,e.pendingProps.children,n),e.child;case 12:return we(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,V(Yi,r._currentValue),r._currentValue=o,s!==null)if(et(s.value,o)){if(s.children===i.children&&!Ce.current){e=gt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wo(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wo(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}we(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zn(e,n),i=We(i),r=r(i),e.flags|=1,we(t,e,r,n),e.child;case 14:return r=e.type,i=qe(r,e.pendingProps),i=qe(r.type,i),lu(t,e,r,i,n);case 15:return Ld(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qe(r,i),Ni(t,e),e.tag=1,Re(r)?(t=!0,Gi(e)):t=!1,zn(e,n),jd(e,r,i),Ho(e,r,i,n),Go(null,e,r,!0,t,n);case 19:return Bd(t,e,n);case 22:return $d(t,e,n)}throw Error(E(156,e.tag))};function nh(t,e){return Oc(t,e)}function Wp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,n,r){return new Wp(t,e,n,r)}function sl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vp(t){if(typeof t=="function")return sl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ba)return 11;if(t===Ta)return 14}return 2}function Nt(t,e){var n=t.alternate;return n===null?(n=Me(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ui(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case En:return tn(n.children,i,s,e);case Ea:o=8,i|=8;break;case go:return t=Me(12,n,e,i|2),t.elementType=go,t.lanes=s,t;case vo:return t=Me(13,n,e,i),t.elementType=vo,t.lanes=s,t;case yo:return t=Me(19,n,e,i),t.elementType=yo,t.lanes=s,t;case hc:return ks(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cc:o=10;break e;case dc:o=9;break e;case ba:o=11;break e;case Ta:o=14;break e;case wt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Me(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function tn(t,e,n,r){return t=Me(7,t,r,e),t.lanes=n,t}function ks(t,e,n,r){return t=Me(22,t,r,e),t.elementType=hc,t.lanes=n,t.stateNode={isHidden:!1},t}function no(t,e,n){return t=Me(6,t,null,e),t.lanes=n,t}function ro(t,e,n){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hp(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Us(0),this.expirationTimes=Us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ol(t,e,n,r,i,s,o,a,l){return t=new Hp(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Me(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wa(s),t}function Kp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rh(t){if(!t)return $t;t=t._reactInternals;e:{if(un(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Re(n))return rd(t,n,e)}return e}function ih(t,e,n,r,i,s,o,a,l){return t=ol(n,r,!0,t,i,s,o,a,l),t.context=rh(null),n=t.current,r=_e(),i=It(n),s=dt(r,i),s.callback=e??null,At(n,s,i),t.current.lanes=i,Jr(t,i,r),Oe(t,r),t}function Es(t,e,n,r){var i=e.current,s=_e(),o=It(i);return n=rh(n),e.context===null?e.context=n:e.pendingContext=n,e=dt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=At(i,e,o),t!==null&&(Ze(t,i,o,s),Ai(t,i,o)),o}function as(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _u(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function al(t,e){_u(t,e),(t=t.alternate)&&_u(t,e)}function qp(){return null}var sh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ll(t){this._internalRoot=t}bs.prototype.render=ll.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Es(t,e,null,null)};bs.prototype.unmount=ll.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;an(function(){Es(null,t,null,null)}),e[ft]=null}};function bs(t){this._internalRoot=t}bs.prototype.unstable_scheduleHydration=function(t){if(t){var e=$c();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kt.length&&e!==0&&e<kt[n].priority;n++);kt.splice(n,0,t),n===0&&Dc(t)}};function ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ts(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Su(){}function Gp(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=as(o);s.call(u)}}var o=ih(e,r,t,0,null,!1,!1,"",Su);return t._reactRootContainer=o,t[ft]=o.current,jr(t.nodeType===8?t.parentNode:t),an(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=as(l);a.call(u)}}var l=ol(t,0,!1,null,null,!1,!1,"",Su);return t._reactRootContainer=l,t[ft]=l.current,jr(t.nodeType===8?t.parentNode:t),an(function(){Es(e,l,n,r)}),l}function xs(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=as(o);a.call(l)}}Es(e,o,t,i)}else o=Gp(n,e,t,i,r);return as(o)}Nc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cr(e.pendingLanes);n!==0&&(Ra(e,n|1),Oe(e,te()),!(z&6)&&(Gn=te()+500,zt()))}break;case 13:an(function(){var r=pt(t,1);if(r!==null){var i=_e();Ze(r,t,1,i)}}),al(t,1)}};Oa=function(t){if(t.tag===13){var e=pt(t,134217728);if(e!==null){var n=_e();Ze(e,t,134217728,n)}al(t,134217728)}};Lc=function(t){if(t.tag===13){var e=It(t),n=pt(t,e);if(n!==null){var r=_e();Ze(n,t,e,r)}al(t,e)}};$c=function(){return M};Uc=function(t,e){var n=M;try{return M=t,e()}finally{M=n}};Co=function(t,e,n){switch(e){case"input":if(_o(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vs(r);if(!i)throw Error(E(90));pc(r),_o(r,i)}}}break;case"textarea":vc(t,n);break;case"select":e=n.value,e!=null&&Ln(t,!!n.multiple,e,!1)}};Ec=nl;bc=an;var Jp={usingClientEntryPoint:!1,Events:[Yr,Cn,vs,Sc,kc,nl]},or={findFiberByHostInstance:Qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qp={bundleType:or.bundleType,version:or.version,rendererPackageName:or.rendererPackageName,rendererConfig:or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cc(t),t===null?null:t.stateNode},findFiberByHostInstance:or.findFiberByHostInstance||qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{hs=mi.inject(Qp),it=mi}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jp;$e.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ul(e))throw Error(E(200));return Kp(t,e,null,n)};$e.createRoot=function(t,e){if(!ul(t))throw Error(E(299));var n=!1,r="",i=sh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ol(t,1,!1,null,null,n,!1,r,i),t[ft]=e.current,jr(t.nodeType===8?t.parentNode:t),new ll(e)};$e.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Cc(e),t=t===null?null:t.stateNode,t};$e.flushSync=function(t){return an(t)};$e.hydrate=function(t,e,n){if(!Ts(e))throw Error(E(200));return xs(null,t,e,!0,n)};$e.hydrateRoot=function(t,e,n){if(!ul(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=sh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ih(e,null,t,1,n??null,i,!1,s,o),t[ft]=e.current,jr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bs(e)};$e.render=function(t,e,n){if(!Ts(e))throw Error(E(200));return xs(null,t,e,!1,n)};$e.unmountComponentAtNode=function(t){if(!Ts(t))throw Error(E(40));return t._reactRootContainer?(an(function(){xs(null,null,t,!1,function(){t._reactRootContainer=null,t[ft]=null})}),!0):!1};$e.unstable_batchedUpdates=nl;$e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ts(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return xs(t,e,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oh)}catch(t){console.error(t)}}oh(),oc.exports=$e;var Yp=oc.exports,ku=Yp;fo.createRoot=ku.createRoot,fo.hydrateRoot=ku.hydrateRoot;const Xp="https://api.jobappid.com";function Zp(){const t=String(Xp).trim();if(!t)throw new Error("Missing VITE_API_BASE_URL. Set it in your .env and restart.");return t.replace(/\/+$/,"")}async function cl(t,e){var a;const n=Zp(),r={"Content-Type":"application/json",...e.headers};e.accessKey&&(r["X-VERIFY-KEY"]=e.accessKey),e.jwt&&(r.Authorization=`Bearer ${e.jwt}`);const i=await fetch(n+t,{...e,headers:r}),s=await i.text();let o=null;try{o=s?JSON.parse(s):null}catch{o={raw:s}}if(!i.ok){const l=((a=o==null?void 0:o.error)==null?void 0:a.message)||(o==null?void 0:o.message)||(o==null?void 0:o.error)||`HTTP ${i.status}`;throw new Error(l)}return o}async function eg(t){return cl("/verify/health",{method:"GET",accessKey:t})}async function tg(t,e){const n=await cl("/verify/search",{method:"POST",accessKey:t,body:JSON.stringify(e)});if((n==null?void 0:n.ok)===!1)throw new Error((n==null?void 0:n.message)||(n==null?void 0:n.error)||"Search failed");const r=(n==null?void 0:n.patron)||null,i=(n==null?void 0:n.badge)||null,s=Array.isArray(n==null?void 0:n.applications)?n.applications:[];return{patron:{id:r==null?void 0:r.id,first_name:(r==null?void 0:r.first_name)??null,last_name:(r==null?void 0:r.last_name)??null,badge_last4:(i==null?void 0:i.badge_last4)??null},applications:s.map(o=>{var a,l,u;return{id:o.id,submitted_at:o.submitted_at??null,status:o.status,business_name:((a=o.business)==null?void 0:a.name)??"",store_number:((l=o.business)==null?void 0:l.store_number)??null,position_title:((u=o.position)==null?void 0:u.title)??null}})}}async function ng(t,e){return cl("/agency/approve",{method:"POST",jwt:t,body:JSON.stringify({approval_code:e})})}function Cs(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rg(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(g){o(g)}}function l(c){try{u(r.throw(c))}catch(g){o(g)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const ig=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class dl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class sg extends dl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Eu extends dl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bu extends dl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var oa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(oa||(oa={}));class og{constructor(e,{headers:n={},customFetch:r,region:i=oa.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=ig(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return rg(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:a,method:l,body:u,signal:c,timeout:g}=r;let h={},{region:v}=r;v||(v=this.region);const y=new URL(`${this.url}/${n}`);v&&v!=="any"&&(h["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let m;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let S=c;g&&(o=new AbortController,s=setTimeout(()=>o.abort(),g),c?(S=o.signal,c.addEventListener("abort",()=>o.abort())):S=o.signal);const f=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m,signal:S}).catch(T=>{throw new sg(T)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new Eu(f);if(!f.ok)throw new bu(f);let p=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield f.json():p==="application/octet-stream"||p==="application/pdf"?w=yield f.blob():p==="text/event-stream"?w=f:p==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof bu||a instanceof Eu?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var ag=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},lg=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,l=null,u=s.status,c=s.statusText;if(s.ok){var g,h;if(n.method!=="HEAD"){var v;const f=await s.text();f===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?a=f:a=JSON.parse(f))}const m=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),S=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&S&&S.length>1&&(l=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var y;const m=await s.text();try{o=JSON.parse(m),Array.isArray(o)&&s.status===404&&(a=[],o=null,u=200,c="OK")}catch{s.status===404&&m===""?(u=204,c="No Content"):o={message:m}}if(o&&n.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new ag(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="",l="",u="";const c=s==null?void 0:s.cause;if(c){var g,h,v,y;const f=(g=c==null?void 0:c.message)!==null&&g!==void 0?g:"",d=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";a=`${(v=s==null?void 0:s.name)!==null&&v!==void 0?v:"FetchError"}: ${s==null?void 0:s.message}`,a+=`

Caused by: ${(y=c==null?void 0:c.name)!==null&&y!==void 0?y:"Error"}: ${f}`,d&&(a+=` (${d})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var m;a=(m=s==null?void 0:s.stack)!==null&&m!==void 0?m:""}const S=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(l+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},ug=class extends lg{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Tu=new RegExp("[,()]");var wn=class extends ug{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Tu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Tu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},cg=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new wn({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),n||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);s.searchParams.set("columns",l.join(","))}}return new wn({method:i,url:s,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,g)=>c.concat(Object.keys(g)),[]);if(u.length>0){const c=[...new Set(u)].map(g=>`"${g}"`);a.searchParams.set("columns",c.join(","))}}return new wn({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new wn({method:r,url:i,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new wn({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Mr(t){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(t)}function dg(t,e){if(Mr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hg(t){var e=dg(t,"string");return Mr(e)=="symbol"?e:e+""}function fg(t,e,n){return(e=hg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xu(Object(n),!0).forEach(function(r){fg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var pg=class ah{constructor(e,{headers:n={},schema:r,fetch:i,timeout:s,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,u)=>{const c=new AbortController,g=setTimeout(()=>c.abort(),s),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(g),a(l,u);const v=()=>{clearTimeout(g),c.abort()};return h.addEventListener("abort",v,{once:!0}),a(l,wi(wi({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(g),h.removeEventListener("abort",v)})}return a(l,wi(wi({},u),{},{signal:c.signal})).finally(()=>clearTimeout(g))}:this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new cg(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new ah(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(c)),g=r&&Object.values(n).some(c);g?(a="POST",u=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{l.searchParams.append(v,y)})):(a="POST",u=n);const h=new Headers(this.headers);return g?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new wn({method:a,url:l,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class gg{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vg="2.95.3",yg=`realtime-js/${vg}`,mg="1.0.0",lh="2.0.0",Cu=lh,aa=1e4,wg=1e3,_g=100;var St;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(St||(St={}));var ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ie||(ie={}));var Qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qe||(Qe={}));var la;(function(t){t.websocket="websocket"})(la||(la={}));var Gt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gt||(Gt={}));class Sg{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var i,s;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(v),m=0;y.setUint8(m++,this.KINDS.userBroadcastPush),y.setUint8(m++,l.length),y.setUint8(m++,a.length),y.setUint8(m++,o.length),y.setUint8(m++,u.length),y.setUint8(m++,g.length),y.setUint8(m++,n),Array.from(l,f=>y.setUint8(m++,f.charCodeAt(0))),Array.from(a,f=>y.setUint8(m++,f.charCodeAt(0))),Array.from(o,f=>y.setUint8(m++,f.charCodeAt(0))),Array.from(u,f=>y.setUint8(m++,f.charCodeAt(0))),Array.from(g,f=>y.setUint8(m++,f.charCodeAt(0)));var S=new Uint8Array(v.byteLength+r.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(r),v.byteLength),S.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,o,a,l]=r;return n({join_ref:i,ref:s,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+s));l=l+s;const g=r.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),v=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,y={type:this.BROADCAST_EVENT,event:c,payload:v};return o>0&&(y.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class uh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const Ru=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=kg(o,t,e,i),s),{}):{}},kg=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?ch(s,o):ua(o)},ch=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return xg(e,n)}switch(t){case F.bool:return Eg(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return bg(e);case F.json:case F.jsonb:return Tg(e);case F.timestamp:return Cg(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return ua(e);default:return ua(e)}},ua=t=>t,Eg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},xg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>ch(e,a))}return t},Cg=t=>typeof t=="string"?t.replace(" ","T"):t,dh=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class io{constructor(e,n,r={},i=aa){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ou;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ou||(Ou={}));class kr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=kr.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kr.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const g=s[u];if(g){const h=c.map(S=>S.presence_ref),v=g.map(S=>S.presence_ref),y=c.filter(S=>v.indexOf(S.presence_ref)<0),m=g.filter(S=>h.indexOf(S.presence_ref)<0);y.length>0&&(a[u]=y),m.length>0&&(l[u]=m)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const g=e[a].map(v=>v.presence_ref),h=c.filter(v=>g.indexOf(v.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(g=>g.presence_ref);u=u.filter(g=>c.indexOf(g.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Pu||(Pu={}));var Er;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Er||(Er={}));var at;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(at||(at={}));class Nn{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new io(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new uh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new kr(this),this.broadcastEndpointURL=dh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Er.PRESENCE]&&this.bindings[Er.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(at.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(at.CLOSED)),this.updateJoinPayload(Object.assign({config:h},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(at.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,S=(y=m==null?void 0:m.length)!==null&&y!==void 0?y:0,f=[];for(let d=0;d<S;d++){const p=m[d],{filter:{event:w,schema:T,table:b,filter:k}}=p,x=v&&v[d];if(x&&x.event===w&&Nn.isFilterValueEqual(x.schema,T)&&Nn.isFilterValueEqual(x.table,b)&&Nn.isFilterValueEqual(x.filter,k))f.push(Object.assign(Object.assign({},p),{id:x.id}));else{this.unsubscribe(),this.state=ie.errored,e==null||e(at.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e(at.SUBSCRIBED);return}}).receive("error",v=>{this.state=ie.errored,e==null||e(at.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(at.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ie.joined&&e===Er.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new io(this,Qe.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new io(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_g){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Qe;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var y,m,S;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(m=v.filter)===null||m===void 0?void 0:m.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(v=>v.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var y,m,S,f,d,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,T=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((m=n.ids)===null||m===void 0?void 0:m.includes(w))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const w=(d=(f=v==null?void 0:v.filter)===null||f===void 0?void 0:f.event)===null||d===void 0?void 0:d.toLocaleLowerCase();return w==="*"||w===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:m,table:S,commit_timestamp:f,type:d,errors:p}=y;h=Object.assign(Object.assign({},{schema:m,table:S,commit_timestamp:f,eventType:d,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(h,r)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Nn.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qe.close,{},e)}_onError(e){this._on(Qe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ru(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ru(e.columns,e.old_record)),n}}const so=()=>{},_i={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rg=[1e3,2e3,5e3,1e4],Og=1e4,Pg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ag{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=aa,this.transport=null,this.heartbeatIntervalMs=_i.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=so,this.ref=0,this.reconnectTimer=null,this.vsn=Cu,this.logger=so,this.conn=null,this.sendBuffer=[],this.serializer=new Sg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${la.websocket}`,this.httpEndpoint=dh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case St.connecting:return Gt.Connecting;case St.open:return Gt.Open;case St.closing:return Gt.Closing;default:return Gt.Closed}}isConnected(){return this.connectionState()===Gt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Nn(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_i.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===St.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===St.open||this.conn.readyState===St.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Pg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:yg};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new uh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_i.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,u,c,g,h,v;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:aa,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:_i.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:so,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Cu,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>Rg[y-1]||Og,this.vsn){case mg:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,m)=>m(JSON.stringify(y)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:(y,m)=>m(JSON.parse(y));break;case lh:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Fr=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jg(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function Ig(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Ng(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const a=jg(t.baseUrl,r,i),l=await Ig(t.auth),u=await e(a,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...o},body:s?JSON.stringify(s):void 0}),c=await u.text(),g=(u.headers.get("content-type")||"").includes("application/json"),h=g&&c?JSON.parse(c):c;if(!u.ok){const v=g?h:void 0,y=v==null?void 0:v.error;throw new Fr((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:v})}return{status:u.status,headers:u.headers,data:h}}}}function Si(t){return t.join("")}var Lg=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Si(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Si(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Si(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Si(t.namespace)}`}),!0}catch(e){if(e instanceof Fr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Fr&&n.status===409)return;throw n}}};function fn(t){return t.join("")}var $g=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fn(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Fr&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Fr&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Ug=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Ng({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Lg(this.client,e),this.tableOps=new $g(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Rs=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Os(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ki=class extends Rs{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hh=class extends Rs{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Dg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ca=t=>{if(Array.isArray(t))return t.map(n=>ca(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=ca(r)}),e},Bg=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Wr(t){"@babel/helpers - typeof";return Wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wr(t)}function Mg(t,e){if(Wr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fg(t){var e=Mg(t,"string");return Wr(e)=="symbol"?e:e+""}function Wg(t,e,n){return(e=Fg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Au(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Au(Object(n),!0).forEach(function(r){Wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const ju=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Vg=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new ki(ju(o),s,a,r))}).catch(()=>{if(r==="vectors"){const o=s+"";e(new ki(i.statusText||`HTTP ${s} error`,s,o,r))}else{const o=s+"";e(new ki(i.statusText||`HTTP ${s} error`,s,o,r))}});else{const o=s+"";e(new ki(i.statusText||`HTTP ${s} error`,s,o,r))}}else e(new hh(ju(t),t,r))},Hg=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?A(A({},i),n):(zg(r)?(i.headers=A({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),A(A({},i),n))};async function ar(t,e,n,r,i,s,o){return new Promise((a,l)=>{t(n,Hg(e,r,i,s)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>Vg(u,l,r,o))})}function fh(t="storage"){return{get:async(e,n,r,i)=>ar(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,s)=>ar(e,"POST",n,i,s,r,t),put:async(e,n,r,i,s)=>ar(e,"PUT",n,i,s,r,t),head:async(e,n,r,i)=>ar(e,"HEAD",n,A(A({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,s)=>ar(e,"DELETE",n,i,s,r,t)}}const Kg=fh("storage"),{get:Vr,post:Ge,put:da,head:qg,remove:hl}=Kg,je=fh("vectors");var Xn=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Dg(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Os(n))return{data:null,error:n};throw n}}},Gg=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Os(e))return{data:null,error:e};throw e}}};let ph;ph=Symbol.toStringTag;var Jg=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[ph]="BlobDownloadBuilder",this.promise=null}asStream(){return new Gg(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Os(e))return{data:null,error:e};throw e}}};const Qg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Yg=class extends Xn{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let s;const o=A(A({},Iu),r);let a=A(A({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=A(A({},a),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),g=await(t=="PUT"?da:Ge)(i.fetch,`${i.url}/object/${c}`,s,A({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:g.Id,fullPath:g.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),i.handleOperation(async()=>{let l;const u=A({upsert:Iu.upsert},r),c=A(A({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:s,fullPath:(await da(i.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const i=A({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await Ge(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+s.url),a=o.searchParams.get("token");if(!a)throw new Rs("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Ge(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Ge(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),s=await Ge(r.fetch,`${r.url}/object/sign/${i}`,A({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const i=await Ge(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>A(A({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null}))})}download(t,e,n){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),a=()=>Vr(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0},n);return new Jg(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>ca(await Vr(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await qg(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Os(r)&&r instanceof hh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await hl(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const i=A(A(A({},Qg),e),{},{prefix:t||""});return await Ge(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=A({},t);return await Ge(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Xg="2.95.3",Zr={"X-Client-Info":`storage-js/${Xg}`};var Zg=class extends Xn{constructor(t,e={},n,r){const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=A(A({},Zr),e);super(s,o,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Vr(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Vr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Ge(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await da(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Ge(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await hl(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},ev=class extends Xn{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=A(A({},Zr),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ge(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Vr(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await hl(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Bg(t))throw new Rs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Ug({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},tv=class extends Xn{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=A(A({},Zr),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await je.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await je.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},nv=class extends Xn{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=A(A({},Zr),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},rv=class extends Xn{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=A(A({},Zr),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await je.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},iv=class extends rv{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new sv(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},sv=class extends tv{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,A(A({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,A(A({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new ov(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},ov=class extends nv{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,A(A({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,A(A({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,A(A({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,A(A({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,A(A({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},av=class extends Zg{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new Yg(this.url,this.headers,t,this.fetch)}get vectors(){return new iv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ev(this.url+"/iceberg",this.headers,this.fetch)}};const gh="2.95.3",_n=30*1e3,ha=3,oo=ha*_n,lv="http://localhost:9999",uv="supabase.auth.token",cv={"X-Client-Info":`gotrue-js/${gh}`},fa="X-Supabase-Api-Version",vh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hv=10*60*1e3;class Hr extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fv extends Hr{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function pv(t){return O(t)&&t.name==="AuthApiError"}class Jt extends Hr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class yt extends Hr{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Pe extends yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ao(t){return O(t)&&t.name==="AuthSessionMissingError"}class pn extends yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ei extends yt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bi extends yt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gv(t){return O(t)&&t.name==="AuthImplicitGrantRedirectError"}class Nu extends yt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vv extends yt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class pa extends yt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lo(t){return O(t)&&t.name==="AuthRetryableFetchError"}class Lu extends yt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ga extends yt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$u=` 	
\r=`.split(""),yv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$u.length;e+=1)t[$u[e].charCodeAt(0)]=-2;for(let e=0;e<ls.length;e+=1)t[ls[e].charCodeAt(0)]=e;return t})();function Uu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ls[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ls[r]),e.queuedBits-=6}}function yh(t,e,n){const r=yv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Du(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{_v(o,r,n)};for(let o=0;o<t.length;o+=1)yh(t.charCodeAt(o),i,s);return e.join("")}function mv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function wv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}mv(r,e)}}function _v(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Mn(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)yh(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Sv(t){const e=[];return wv(t,n=>e.push(n)),new Uint8Array(e)}function Zt(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Uu(i,n,r)),Uu(null,n,r),e.join("")}function kv(t){return Math.round(Date.now()/1e3)+t}function Ev(){return Symbol("auth-callback")}const de=()=>typeof window<"u"&&typeof document<"u",Wt={tested:!1,writable:!1},mh=()=>{if(!de())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wt.tested)return Wt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wt.tested=!0,Wt.writable=!0}catch{Wt.tested=!0,Wt.writable=!1}return Wt.writable};function bv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const wh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Tv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Sn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ce=async(t,e)=>{await t.removeItem(e)};class Ps{constructor(){this.promise=new Ps.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ps.promiseConstructor=Promise;function Ti(t){const e=t.split(".");if(e.length!==3)throw new ga("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!dv.test(e[r]))throw new ga("JWT not in base64url format");return{header:JSON.parse(Du(e[0])),payload:JSON.parse(Du(e[1])),signature:Mn(e[2]),raw:{header:e[0],payload:e[1]}}}async function xv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Cv(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Rv(t){return("0"+t.toString(16)).substr(-2)}function Ov(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Rv).join("")}async function Pv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Av(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Pv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(t,e,n=!1){const r=Ov();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Sn(t,`${e}-code-verifier`,i);const s=await Av(r);return[s,r===s?"plain":"s256"]}const jv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Iv(t){const e=t.headers.get(fa);if(!e||!e.match(jv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Nv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Lv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $v=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vn(t){if(!$v.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uv(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function zu(t){return JSON.parse(JSON.stringify(t))}const qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Dv=[502,503,504];async function Bu(t){var e;if(!Tv(t))throw new pa(qt(t),0);if(Dv.includes(t.status))throw new pa(qt(t),t.status);let n;try{n=await t.json()}catch(s){throw new Jt(qt(s),s)}let r;const i=Iv(t);if(i&&i.getTime()>=vh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lu(qt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Lu(qt(n),t.status,n.weak_password.reasons);throw new fv(qt(n),t.status||500,r)}const zv=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function P(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[fa]||(s[fa]=vh["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Bv(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Bv(t,e,n,r,i,s){const o=zv(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new pa(qt(l),0)}if(a.ok||await Bu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Bu(l)}}function Ke(t){var e;let n=null;Wv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=kv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Mu(t){const e=Ke(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Mv(t){return{data:t,error:null}}function Fv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=Cs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Fu(t){return t}function Wv(t){return t.access_token&&t.refresh_token&&t.expires_in}const co=["global","local","others"];class Vv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=wh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=co[0]){if(co.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${co.join(", ")}`);try{return await P(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await P(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Cs(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Fv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await P(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Fu});if(c.error)throw c.error;const g=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){vn(e);try{return await P(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){vn(e);try{return await P(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:bt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){vn(e);try{return await P(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:bt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){vn(e.userId);try{const{data:n,error:r}=await P(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(e){vn(e.userId),vn(e.id);try{return{data:await P(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await P(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Fu});if(c.error)throw c.error;const g=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(O(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await P(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await P(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await P(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}}function Wu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const yn={debug:!!(globalThis&&mh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _h extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hv extends _h{}async function Kv(t,e,n){yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Hv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function qv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Sh(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Gv(t){return parseInt(t,16)}function Jv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Qv(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:g,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Sh(t.address),y=c?`${c}://${r}`:r,m=t.statement?`${t.statement}
`:"",S=`${y} wants you to sign in with your Ethereum account:
${v}

${m}`;let f=`URI: ${g}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(f+=`
Expiration Time: ${i.toISOString()}`),a&&(f+=`
Not Before: ${a.toISOString()}`),l&&(f+=`
Request ID: ${l}`),u){let d=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);d+=`
- ${p}`}f+=d}return`${S}
${f}`}class ne extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class us extends ne{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Yv({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(kh(o)){if(s.rp.id!==o)return new ne({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Xv({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ne({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(kh(r)){if(n.rpId!==r)return new ne({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Zv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ey=new Zv;function ty(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Cs(t,["challenge","user","excludeCredentials"]),s=Mn(e).buffer,o=Object.assign(Object.assign({},n),{id:Mn(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Mn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function ny(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Cs(t,["challenge","allowCredentials"]),i=Mn(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Mn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function ry(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zt(new Uint8Array(i.authenticatorData)),clientDataJSON:Zt(new Uint8Array(i.clientDataJSON)),signature:Zt(new Uint8Array(i.signature)),userHandle:i.userHandle?Zt(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kh(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Vu(){var t,e;return!!(de()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function sy(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new us("Browser returned unexpected credential type",e)}:{data:null,error:new us("Empty credential response",e)}}catch(e){return{data:null,error:Yv({error:e,options:t})}}}async function oy(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new us("Browser returned unexpected credential type",e)}:{data:null,error:new us("Empty credential response",e)}}catch(e){return{data:null,error:Xv({error:e,options:t})}}}const ay={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ly={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cs(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=cs(a,o):r[s]=cs(o)}else r[s]=o}return r}function uy(t,e){return cs(ay,t,e||{})}function cy(t,e){return cs(ly,t,e||{})}class dy{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const u=i??ey.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const g=r;if(g)c.name=`${c.id}:${g}`;else{const v=(await this.client.getUser()).data.user,y=((o=v==null?void 0:v.user_metadata)===null||o===void 0?void 0:o.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";c.name=`${c.id}:${y}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=uy(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:g,error:h}=await sy({publicKey:c,signal:u});return g?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:g}},error:null}:{data:null,error:h}}case"request":{const c=cy(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:g,error:h}=await oy(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return g?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:g}},error:null}:{data:null,error:h}}}}catch(a){return O(a)?{data:null,error:a}:{data:null,error:new Jt("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Hr("rpId is required for WebAuthn authentication")};try{if(!Vu())return{data:null,error:new Jt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new Jt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Hr("rpId is required for WebAuthn registration")};try{if(!Vu())return{data:null,error:new Jt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var g;return(g=c.data)===null||g===void 0?void 0:g.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return O(o)?{data:null,error:o}:{data:null,error:new Jt("Unexpected error in register",o)}}}}qv();const hy={url:lv,storageKey:uv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Hu(t,e,n){return await n()}const mn={};class Kr{get jwks(){var e,n;return(n=(e=mn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=mn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},hy),e);if(this.storageKey=s.storageKey,this.instanceID=(n=Kr.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Kr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&de()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Vv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wh(s.fetch),this.lock=s.lock||Hu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&de()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Kv:this.lock=Hu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:mh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),de()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gh}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(de()&&(n=bv(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),de()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),gv(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?this._returnResult({error:n}):this._returnResult({error:new Jt("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ke}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:g,options:h}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await gn(this.storage,this.storageKey)),s=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:g,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:y},xform:Ke})}else if("phone"in e){const{phone:c,password:g,options:h}=e;s=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:g,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ke})}else throw new Ei("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await ce(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await ce(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mu})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mu})}else throw new Ei("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new pn;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,l,u,c,g,h;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:m,wallet:S,statement:f,options:d}=e;let p;if(de())if(typeof S=="object")p=S;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")p=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(d!=null&&d.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=S}const w=new URL((n=d==null?void 0:d.url)!==null&&n!==void 0?n:window.location.href),T=await p.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Sh(T[0]);let k=(r=d==null?void 0:d.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const I=await p.request({method:"eth_chainId"});k=Gv(I)}const x={domain:w.host,address:b,statement:f,uri:w.href,version:"1",chainId:k,nonce:(i=d==null?void 0:d.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=d==null?void 0:d.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=d==null?void 0:d.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=d==null?void 0:d.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=d==null?void 0:d.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=d==null?void 0:d.signInWithEthereum)===null||c===void 0?void 0:c.resources};v=Qv(x),y=await p.request({method:"personal_sign",params:[Jv(v),b]})}try{const{data:m,error:S}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ke});if(S)throw S;if(!m||!m.session||!m.user){const f=new pn;return this._returnResult({data:{user:null,session:null},error:f})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:S})}catch(m){if(O(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var n,r,i,s,o,a,l,u,c,g,h,v;let y,m;if("message"in e)y=e.message,m=e.signature;else{const{chain:S,wallet:f,statement:d,options:p}=e;let w;if(de())if(typeof f=="object")w=f;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))w=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=f}const T=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const b=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),d?{statement:d}:null));let k;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")k=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)k=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${T.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...d?["",d,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((g=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||g===void 0)&&g.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const b=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=b}}try{const{data:S,error:f}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Zt(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ke});if(f)throw f;if(!S||!S.session||!S.user){const d=new pn;return this._returnResult({data:{user:null,session:null},error:d})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:f})}catch(S){if(O(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await Vt(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new vv;const{data:s,error:o}=await P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ke});if(await ce(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new pn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await ce(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ke}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new pn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await gn(this.storage,this.storageKey));const{error:g}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Ei("You must provide either an email or phone number.")}catch(a){if(await ce(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ke});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await gn(this.storage,this.storageKey));const u=await P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Mv});return!((s=u.data)===null||s===void 0)&&s.url&&de()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ce(this.storage,`${this.storageKey}-code-verifier`),O(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pe;const{error:i}=await P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(O(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await P(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await P(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ei("You must provide either an email or phone number and a type")}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<oo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Vt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=uo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Uv(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bt}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pe}:await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:bt})})}catch(n){if(O(n))return ao(n)&&(await this._removeSession(),await ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Pe;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await gn(this.storage,this.storageKey));const{data:u,error:c}=await P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:bt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await ce(this.storage,`${this.storageKey}-code-verifier`),O(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pe;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Ti(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pe;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(O(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!de())throw new bi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Nu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nu("No code detected.");const{data:d,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:d.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new bi("No session defined in URL");const c=Math.round(Date.now()/1e3),g=parseInt(a);let h=c+g;l&&(h=parseInt(l));const v=h-c;v*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const y=h-g;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:m,error:S}=await this._getUser(s);if(S)throw S;const f={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:h,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:f,redirectType:e.type},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!ao(s))return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(pv(a)&&(a.status===404||a.status===401||a.status===403)||ao(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ce(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Ev(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await gn(this.storage,this.storageKey,!0));try{return await P(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await ce(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:g,error:h}=s;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await P(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return de()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(O(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,g=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ke}),{data:h,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new pn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:v}))}catch(i){if(await ce(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await P(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Cv(async i=>(i>0&&await xv(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ke})),(i,s)=>{const o=200*Math.pow(2,i);return s&&lo(s)&&Date.now()+o-r<_n})}catch(r){if(this._debug(n,"error",r),O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),de()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Vt(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Sn(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:uo()}else if(i&&!i.user&&!i.user){const o=await Vt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await ce(this.storage,this.storageKey+"-user"),await Sn(this.storage,this.storageKey,i)):i.user=uo()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<oo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${oo}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),lo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ps;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Pe;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),O(s)){const o={data:null,error:s};return lo(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ce(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Sn(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=zu(i);await Sn(this.storage,this.storageKey,s)}else{const i=zu(n);await Sn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ce(this.storage,this.storageKey),await ce(this.storage,this.storageKey+"-code-verifier"),await ce(this.storage,this.storageKey+"-user"),this.userStorage&&await ce(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&de()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_n}ms, refresh threshold is ${ha} ticks`),i<=ha&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _h)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!de()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await gn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await P(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await P(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ry(e.webauthn.credential_response):iy(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await P(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await P(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ty(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ny(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,i,s;if(e)try{const{payload:v}=Ti(e);let y=null;v.aal&&(y=v.aal);let m=y;const{data:{user:S},error:f}=await this.getUser(e);if(f)return this._returnResult({data:null,error:f});((r=(n=S==null?void 0:S.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const p=v.amr||[];return{data:{currentLevel:y,nextLevel:m,currentAuthenticationMethods:p},error:null}}catch(v){if(O(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ti(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await P(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Pe});const o=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&de()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Pe});const o=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&de()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await P(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(e){if(O(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await P(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pe})})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+hv>i)return r;const{data:s,error:o}=await P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});r=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Ti(r);n!=null&&n.allowExpired||Nv(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const c=Lv(i.alg),g=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,g,o,Sv(`${a}.${l}`)))throw new ga("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}}Kr.nextInstanceID={};const fy=Kr,py="2.95.3";let hr="";typeof Deno<"u"?hr="deno":typeof document<"u"?hr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hr="react-native":hr="node";const gy={"X-Client-Info":`supabase-js-${hr}/${py}`},vy={headers:gy},yy={schema:"public"},my={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wy={};function qr(t){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(t)}function _y(t,e){if(qr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sy(t){var e=_y(t,"string");return qr(e)=="symbol"?e:e+""}function ky(t,e,n){return(e=Sy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ku(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ku(Object(n),!0).forEach(function(r){ky(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Ey=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),by=()=>Headers,Ty=(t,e,n)=>{const r=Ey(n),i=by();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,X(X({},o),{},{headers:u}))}};function xy(t){return t.endsWith("/")?t:t+"/"}function Cy(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:g}=e,h={db:X(X({},l),i),auth:X(X({},u),s),realtime:X(X({},c),o),storage:{},global:X(X(X({},g),a),{},{headers:X(X({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Ry(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xy(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Oy=class extends fy{constructor(t){super(t)}},Py=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=Ry(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:yy,realtime:wy,auth:X(X({},my),{},{storageKey:o}),global:vy},l=Cy(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Ty(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(X({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new pg(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new av(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new og(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:o,lock:a,debug:l,throwOnError:u},c,g){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Oy({url:this.authUrl.href,headers:X(X({},h),c),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:u,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ag(this.realtimeUrl.href,X(X({},t),{},{params:X(X({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ay=(t,e,n)=>new Py(t,e,n);function jy(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}jy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Iy="",Ny="",Ly=Ay(Iy,Ny,{auth:{persistSession:!0}});function $y({onLogin:t}){const[e,n]=W.useState("signin"),[r,i]=W.useState(""),[s,o]=W.useState(""),[a,l]=W.useState(""),[u,c]=W.useState(!1),[g,h]=W.useState(""),[v,y]=W.useState(""),[m,S]=W.useState(""),[f,d]=W.useState(""),p=W.useMemo(()=>g.trim().length>=2&&v.trim().length>=6&&m.length>=6&&!u,[g,v,m,u]);async function w(){l("");const k=r.trim(),x=s.trim();if(!k)return l("Enter your office name.");if(!x)return l("Enter your access key.");c(!0);try{await eg(x),t({officeName:k,accessKey:x})}catch(I){l(`Login failed: ${(I==null?void 0:I.message)||I}`)}finally{c(!1)}}async function T(){l("");{l("Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY in the verify portal .env.");return}}async function b(){l("");const k=f.replace(/\D/g,"").slice(0,12).trim();if(!k)return l("Enter the approval code provided by support.");c(!0);try{const x=(await Ly.auth.getSession()).data.session;if(!(x!=null&&x.access_token))throw new Error("You must be signed in as the agency owner (email + password) first.");await ng(x.access_token,k),l("Agency approved. You can now have agents sign in under the agency (next step).")}catch(x){l(`Approval failed: ${(x==null?void 0:x.message)||x}`)}finally{c(!1)}}return _.jsxs("div",{style:B.card,children:[_.jsx("div",{style:B.brandRow,children:_.jsx("img",{src:"/JobAppID-Logo.png",alt:"JobAppID",style:B.logo})}),_.jsx("h2",{style:B.h2,children:"Verification Portal"}),_.jsx("p",{style:B.p,children:"Authorized agencies only. All searches are audited."}),_.jsxs("div",{style:B.tabs,children:[_.jsx(ho,{active:e==="signin",onClick:()=>n("signin"),children:"Sign In"}),_.jsx(ho,{active:e==="agency",onClick:()=>n("agency"),children:"Agency Sign Up"}),_.jsx(ho,{active:e==="approve",onClick:()=>n("approve"),children:"Approval Code"})]}),e==="signin"?_.jsxs(_.Fragment,{children:[_.jsx("label",{style:B.label,children:"Office name"}),_.jsx("input",{style:B.input,value:r,onChange:k=>i(k.target.value),placeholder:"e.g., Cook County Public Aid Office",autoComplete:"organization"}),_.jsx("label",{style:B.label,children:"Access key"}),_.jsx("input",{style:B.input,value:s,onChange:k=>o(k.target.value),placeholder:"Provided by JobAppID",autoComplete:"off"}),_.jsx("button",{style:B.button,onClick:w,disabled:u,children:u?"Signing in":"Sign in"})]}):null,e==="agency"?_.jsxs(_.Fragment,{children:[_.jsx("div",{style:B.sectionTitle,children:"Create an agency (owner)"}),_.jsxs("div",{style:B.sectionNote,children:["After you submit, customer support will receive an approval code at ",_.jsx("b",{children:"requestjobappid@jobappid.com"}),"."]}),_.jsx("label",{style:B.label,children:"Agency name"}),_.jsx("input",{style:B.input,value:g,onChange:k=>h(k.target.value),placeholder:"e.g., Illinois Department of Human Services",autoComplete:"organization"}),_.jsx("label",{style:B.label,children:"Owner email"}),_.jsx("input",{style:B.input,value:v,onChange:k=>y(k.target.value),placeholder:"you@agency.gov",autoComplete:"email"}),_.jsx("label",{style:B.label,children:"Password"}),_.jsx("input",{style:B.input,value:m,onChange:k=>S(k.target.value),placeholder:"Create a password",autoComplete:"new-password",type:"password"}),_.jsx("button",{style:B.button,onClick:T,disabled:!p,children:u?"Submitting":"Submit agency for approval"}),_.jsx("div",{style:B.sectionFoot,children:"Note: If your owner email already exists, well sign you in and continue."})]}):null,e==="approve"?_.jsxs(_.Fragment,{children:[_.jsx("div",{style:B.sectionTitle,children:"Enter approval code"}),_.jsx("div",{style:B.sectionNote,children:"Customer support will provide your approval code after reviewing your agency signup."}),_.jsx("label",{style:B.label,children:"Approval code"}),_.jsx("input",{style:B.input,value:f,onChange:k=>d(k.target.value),placeholder:"8 digits",autoComplete:"off",inputMode:"numeric"}),_.jsx("button",{style:B.button,onClick:b,disabled:u,children:u?"Verifying":"Approve agency"}),_.jsxs("div",{style:B.sectionFoot,children:["If you get must be signed in, go back to ",_.jsx("b",{children:"Agency Sign Up"})," and sign in with your owner email/password first."]})]}):null,_.jsxs("div",{style:B.agentBox,children:[_.jsx("div",{style:{fontWeight:800,marginBottom:6},children:"Next: Agent sign-in"}),_.jsx("div",{style:{opacity:.8,fontSize:13},children:"After agency approval, agents will sign up/in under the agency profile. Well wire this once you confirm your agent join flow (invite code vs. approval code reuse vs. domain whitelist)."})]}),a?_.jsx("div",{style:B.msg,children:a}):null]})}function ho(t){return _.jsx("button",{onClick:t.onClick,style:{...B.tabBtn,...t.active?B.tabBtnActive:{}},type:"button",children:t.children})}const B={card:{background:"rgba(19,19,26,0.95)",border:"1px solid rgba(255,255,255,0.10)",borderRadius:18,padding:22,boxShadow:"0 10px 30px rgba(0,0,0,0.35)",maxWidth:560,margin:"0 auto"},brandRow:{display:"flex",justifyContent:"center",marginBottom:10},logo:{width:84,height:84,objectFit:"contain",filter:"drop-shadow(0 6px 18px rgba(0,0,0,0.35))"},h2:{margin:0,fontSize:20,textAlign:"center"},p:{marginTop:8,marginBottom:14,opacity:.8,textAlign:"center"},tabs:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8,marginTop:12,marginBottom:12},tabBtn:{padding:"10px 10px",borderRadius:12,border:"1px solid rgba(255,255,255,0.14)",background:"rgba(0,0,0,0.20)",color:"#fff",cursor:"pointer",fontWeight:800,fontSize:12},tabBtnActive:{background:"#fff",color:"#111"},sectionTitle:{marginTop:6,fontWeight:900,fontSize:14},sectionNote:{marginTop:6,opacity:.8,fontSize:13,lineHeight:1.35},sectionFoot:{marginTop:10,opacity:.7,fontSize:12,lineHeight:1.35},label:{display:"block",marginTop:12,fontSize:13,opacity:.85},input:{width:"100%",marginTop:6,padding:"12px 12px",borderRadius:12,border:"1px solid rgba(255,255,255,0.14)",background:"rgba(0,0,0,0.35)",color:"#fff",outline:"none"},button:{width:"100%",marginTop:16,padding:"12px 12px",borderRadius:12,border:"1px solid rgba(255,255,255,0.14)",background:"#fff",color:"#111",fontWeight:900,cursor:"pointer"},msg:{marginTop:12,padding:"10px 12px",borderRadius:12,border:"1px solid rgba(255,157,157,0.35)",background:"rgba(255,157,157,0.10)"},agentBox:{marginTop:14,padding:"12px 12px",borderRadius:12,border:"1px solid rgba(255,255,255,0.10)",background:"rgba(255,255,255,0.04)"}},qu=[{value:"unemployment",label:"Unemployment verification"},{value:"public_aid",label:"Public aid / work requirement"},{value:"housing",label:"Housing / case management"},{value:"other",label:"Other"}];function Uy({session:t}){var N,Ee;const[e,n]=W.useState(""),[r,i]=W.useState(""),[s,o]=W.useState(""),[a,l]=W.useState(""),[u,c]=W.useState(""),[g,h]=W.useState(qu[0].value),[v,y]=W.useState(""),[m,S]=W.useState(!1),[f,d]=W.useState(null),p=W.useMemo(()=>{const U=a.trim().length>=6,Y=u.trim().length>=4,Bt=e.trim().length>=2&&r.trim().length>=2,De=s.trim().length===4;return U&&Y||Bt&&De},[a,u,e,r,s]);async function w(){y(""),d(null);const U={reason:g,first_name:e.trim()||void 0,last_name:r.trim()||void 0,badge_last4:s.trim()||void 0,badge_token:a.trim()||void 0,patron_code:u.trim()||void 0};S(!0);try{const Y=await tg(t.accessKey,U);if(d(Y),!Y||Y.ok===!1){const De=Y==null?void 0:Y.error;y(`Search failed: ${(De==null?void 0:De.code)||"error"}: ${(De==null?void 0:De.message)||"Unknown error"}`);return}(Y.applications||[]).length||y("No applications found for this applicant.")}catch(Y){y(`Search failed: ${(Y==null?void 0:Y.message)||Y}`)}finally{S(!1)}}function T(){n(""),i(""),o(""),l(""),c(""),y(""),d(null)}const b=!!f&&f.ok!==!1,k=b?f.patron:null,x=b?((N=f.badge)==null?void 0:N.badge_last4)??((Ee=f.patron)==null?void 0:Ee.badge_last4)??"":"",I=b?f.applications||[]:[];return _.jsxs("div",{style:{display:"grid",gap:16},children:[_.jsxs("div",{style:D.card,children:[_.jsx("h2",{style:D.h2,children:"Applicant lookup"}),_.jsxs("p",{style:D.p,children:["Enter either ",_.jsx("b",{children:"Badge token + PIN"})," or ",_.jsx("b",{children:"Name + Badge last 4"}),"."]}),_.jsxs("div",{style:D.grid,children:[_.jsxs("div",{children:[_.jsx("label",{style:D.label,children:"First name"}),_.jsx("input",{style:D.input,value:e,onChange:U=>n(U.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{style:D.label,children:"Last name"}),_.jsx("input",{style:D.input,value:r,onChange:U=>i(U.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{style:D.label,children:"Badge last 4"}),_.jsx("input",{style:D.input,value:s,onChange:U=>o(U.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"####",inputMode:"numeric"})]}),_.jsxs("div",{children:[_.jsx("label",{style:D.label,children:"Badge token (optional alt)"}),_.jsx("input",{style:D.input,value:a,onChange:U=>l(U.target.value),placeholder:"badge_xxx",autoComplete:"off"})]}),_.jsxs("div",{children:[_.jsx("label",{style:D.label,children:"Applicant PIN (required with token)"}),_.jsx("input",{style:D.input,value:u,onChange:U=>c(U.target.value.replace(/\D/g,"").slice(0,8)),placeholder:"####",inputMode:"numeric",autoComplete:"off"})]}),_.jsxs("div",{children:[_.jsx("label",{style:D.label,children:"Reason for lookup"}),_.jsx("select",{style:D.input,value:g,onChange:U=>h(U.target.value),children:qu.map(U=>_.jsx("option",{value:U.value,children:U.label},U.value))})]})]}),_.jsxs("div",{style:{display:"flex",gap:10,marginTop:14,flexWrap:"wrap"},children:[_.jsx("button",{style:D.primary,onClick:w,disabled:m||!p,children:m?"Searching":"Search"}),_.jsx("button",{style:D.secondary,onClick:T,disabled:m,children:"Clear"}),p?null:_.jsxs("div",{style:D.hint,children:["Requires: ",_.jsx("b",{children:"Token + PIN"})," OR ",_.jsx("b",{children:"Name + last 4"})]})]}),v?_.jsx("div",{style:D.msg,children:v}):null]}),b&&k?_.jsxs("div",{style:D.card,children:[_.jsx("h3",{style:{margin:0,fontSize:16},children:"Results"}),_.jsxs("div",{style:{marginTop:8,opacity:.85},children:["Applicant:"," ",_.jsxs("b",{children:[(k.first_name||"").toString()," ",(k.last_name||"").toString()]})," ",_.jsxs("span",{style:{opacity:.8},children:["(Badge last4: ",x,")"]})]}),_.jsx("div",{style:{marginTop:12,overflowX:"auto"},children:_.jsxs("table",{style:D.table,children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{style:D.th,children:"Submitted"}),_.jsx("th",{style:D.th,children:"Business"}),_.jsx("th",{style:D.th,children:"Store"}),_.jsx("th",{style:D.th,children:"Position"}),_.jsx("th",{style:D.th,children:"Status"})]})}),_.jsx("tbody",{children:I.length===0?_.jsx("tr",{children:_.jsx("td",{style:D.td,colSpan:5,children:"No applications found."})}):I.map(U=>{var cn,dn,C;const Y=U.business_name??((cn=U.business)==null?void 0:cn.name)??"",Bt=U.store_number??((dn=U.business)==null?void 0:dn.store_number)??"",De=U.position_title??((C=U.position)==null?void 0:C.title)??"";return _.jsxs("tr",{children:[_.jsx("td",{style:D.td,children:Dy(U.submitted_at)}),_.jsx("td",{style:D.td,children:Y}),_.jsx("td",{style:D.td,children:Bt||""}),_.jsx("td",{style:D.td,children:De||""}),_.jsx("td",{style:D.td,children:_.jsx("span",{style:D.status,children:String(U.status||"").toLowerCase()||""})})]},U.id)})})]})}),_.jsx("div",{style:{marginTop:12,opacity:.75,fontSize:12},children:"All access is logged. If information appears incomplete, it may reflect missing business configuration or connectivity issues."})]}):null]})}function Dy(t){if(!t)return"";try{return new Date(t).toLocaleString()}catch{return t}}const D={card:{background:"rgba(19,19,26,0.95)",border:"1px solid rgba(255,255,255,0.10)",borderRadius:18,padding:22,boxShadow:"0 10px 30px rgba(0,0,0,0.35)"},h2:{margin:0,fontSize:20},p:{marginTop:8,marginBottom:16,opacity:.82},grid:{display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},label:{display:"block",marginTop:2,fontSize:13,opacity:.85},input:{width:"100%",marginTop:6,padding:"12px 12px",borderRadius:12,border:"1px solid rgba(255,255,255,0.14)",background:"rgba(0,0,0,0.35)",color:"#fff",outline:"none"},primary:{padding:"12px 14px",borderRadius:12,border:"1px solid rgba(255,255,255,0.14)",background:"#fff",color:"#111",fontWeight:800,cursor:"pointer",minWidth:140},secondary:{padding:"12px 14px",borderRadius:12,border:"1px solid rgba(255,255,255,0.18)",background:"transparent",color:"#fff",fontWeight:700,cursor:"pointer"},hint:{alignSelf:"center",opacity:.7,fontSize:12},msg:{marginTop:12,padding:"10px 12px",borderRadius:12,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.04)"},table:{width:"100%",borderCollapse:"collapse"},th:{textAlign:"left",padding:"10px 8px",fontSize:12,opacity:.75,borderBottom:"1px solid rgba(255,255,255,0.10)"},td:{padding:"10px 8px",borderBottom:"1px solid rgba(255,255,255,0.08)",verticalAlign:"top"},status:{display:"inline-block",padding:"4px 8px",borderRadius:999,border:"1px solid rgba(255,255,255,0.16)",background:"rgba(0,0,0,0.20)",fontSize:12,fontWeight:700,textTransform:"capitalize"}},fl="jobappid_verify_session_v1";function Gu(){try{const t=localStorage.getItem(fl);if(!t)return null;const e=JSON.parse(t);return!e||typeof e.officeName!="string"||typeof e.accessKey!="string"?null:{officeName:e.officeName,accessKey:e.accessKey}}catch{return null}}function zy(t){localStorage.setItem(fl,JSON.stringify(t))}function By(){localStorage.removeItem(fl)}function My(){const[t,e]=W.useState(()=>Gu());W.useEffect(()=>{e(Gu())},[]);const n=W.useMemo(()=>t?"search":"login",[t]);function r(s){zy(s),e(s)}function i(){By(),e(null)}return _.jsxs("div",{style:be.page,children:[_.jsxs("header",{style:be.header,children:[_.jsxs("div",{children:[_.jsx("div",{style:be.brand,children:"JobAppID"}),_.jsx("div",{style:be.title,children:"Verification Portal"})]}),t?_.jsxs("div",{style:be.headerRight,children:[_.jsxs("div",{style:be.meta,children:[_.jsx("div",{style:be.metaLabel,children:"Signed in as"}),_.jsx("div",{style:be.metaValue,children:t.officeName})]}),_.jsx("button",{onClick:i,style:be.linkButton,children:"Sign out"})]}):_.jsxs("div",{style:be.meta,children:[_.jsx("div",{style:be.metaLabel,children:"Read-only"}),_.jsx("div",{style:be.metaValue,children:"Audit logged"})]})]}),_.jsx("main",{style:be.main,children:n==="login"?_.jsx($y,{onLogin:r}):_.jsx(Uy,{session:t})}),_.jsxs("footer",{style:be.footer,children:[_.jsxs("div",{children:[" ",new Date().getFullYear()," JobAppID"]}),_.jsx("div",{style:{opacity:.75},children:"For authorized verification only"})]})]})}const be={page:{minHeight:"100vh",background:"radial-gradient(1200px 700px at 15% 0%, #1a1a24 0%, #0b0b0f 55%)",color:"#fff",fontFamily:"system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"18px 22px",borderBottom:"1px solid rgba(255,255,255,0.10)"},brand:{fontWeight:700,letterSpacing:.5},title:{fontSize:14,opacity:.85,marginTop:2},headerRight:{display:"flex",alignItems:"center",gap:14},meta:{textAlign:"right"},metaLabel:{fontSize:12,opacity:.7},metaValue:{fontSize:14,fontWeight:600},linkButton:{background:"transparent",color:"#fff",border:"1px solid rgba(255,255,255,0.18)",padding:"8px 10px",borderRadius:10,cursor:"pointer"},main:{maxWidth:980,margin:"0 auto",padding:"22px"},footer:{maxWidth:980,margin:"0 auto",padding:"20px 22px",display:"flex",justifyContent:"space-between",borderTop:"1px solid rgba(255,255,255,0.08)",opacity:.7}};fo.createRoot(document.getElementById("root")).render(_.jsx(zh.StrictMode,{children:_.jsx(My,{})}));
